2019-07-11 11:42:15 - Starting MainApp on PC-workstation with PID 3780 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 11:42:15 - No active profile set, falling back to default profiles: default
2019-07-11 11:42:15 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4cb533b8: startup date [Thu Jul 11 11:42:15 CST 2019]; root of context hierarchy
2019-07-11 11:42:15 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 11:42:17 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 11:42:18 - Tomcat initialized with port(s): 80 (http)
2019-07-11 11:42:18 - Starting service Tomcat
2019-07-11 11:42:18 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 11:42:18 - Initializing Spring embedded WebApplicationContext
2019-07-11 11:42:18 - Root WebApplicationContext: initialization completed in 2982 ms
2019-07-11 11:42:18 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 11:42:18 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 11:42:18 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 11:42:18 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 11:42:18 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 11:42:20 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4cb533b8: startup date [Thu Jul 11 11:42:15 CST 2019]; root of context hierarchy
2019-07-11 11:42:20 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 11:42:20 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:42:20 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:42:20 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 11:42:20 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 11:42:20 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 11:42:20 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:42:20 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:42:20 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:42:20 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4cb533b8: startup date [Thu Jul 11 11:42:15 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 11:42:21 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 11:42:21 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 11:42:21 - LiveReload server is running on port 35729
2019-07-11 11:42:21 - Registering beans for JMX exposure on startup
2019-07-11 11:42:21 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 11:42:21 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 11:42:21 - Using a shared selector for servlet write/read
2019-07-11 11:42:21 - Tomcat started on port(s): 80 (http)
2019-07-11 11:42:21 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 11:42:22 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.252:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:42:22 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:42:22 - RIS API Test Result:Service帐号
2019-07-11 11:42:22 - RISAPI Test Result: Service帐号
2019-07-11 11:42:23 - DB Test Result: 2019-07-11
2019-07-11 11:42:23 - Started MainApp in 7.918 seconds (JVM running for 8.505)
2019-07-11 11:44:07 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 11:44:07 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 11:44:07 - FrameworkServlet 'dispatcherServlet': initialization completed in 12 ms
2019-07-11 11:44:07 - index mapping null
2019-07-11 11:44:16 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 11:44:16 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 11:44:17 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM001"/>
	<column name="e:WAIT,0046" value="1"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value="已收费"/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
</AEXMLMessage>


]
2019-07-11 11:44:17 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:48)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 11:44:53 - Starting MainApp on PC-workstation with PID 3696 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 11:44:53 - No active profile set, falling back to default profiles: default
2019-07-11 11:44:54 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 11:44:54 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@319da967: startup date [Thu Jul 11 11:44:54 CST 2019]; root of context hierarchy
2019-07-11 11:44:55 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 11:44:56 - Tomcat initialized with port(s): 80 (http)
2019-07-11 11:44:56 - Starting service Tomcat
2019-07-11 11:44:56 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 11:44:57 - Initializing Spring embedded WebApplicationContext
2019-07-11 11:44:57 - Root WebApplicationContext: initialization completed in 2944 ms
2019-07-11 11:44:57 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 11:44:57 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 11:44:57 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 11:44:57 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 11:44:57 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 11:44:57 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController': Unsatisfied dependency expressed through field 'risOrderService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISOrderService': Unsatisfied dependency expressed through field 'risAPIService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.app.service.RISAPIService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2019-07-11 11:44:57 - Stopping service Tomcat
2019-07-11 11:44:57 - 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2019-07-11 11:44:57 - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field risAPIService in com.app.service.RISOrderService required a bean of type 'com.app.service.RISAPIService' that could not be found.


Action:

Consider defining a bean of type 'com.app.service.RISAPIService' in your configuration.

2019-07-11 11:45:21 - Starting MainApp on PC-workstation with PID 3580 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 11:45:21 - No active profile set, falling back to default profiles: default
2019-07-11 11:45:21 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1d2c5431: startup date [Thu Jul 11 11:45:21 CST 2019]; root of context hierarchy
2019-07-11 11:45:22 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 11:45:23 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 11:45:24 - Tomcat initialized with port(s): 80 (http)
2019-07-11 11:45:24 - Starting service Tomcat
2019-07-11 11:45:24 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 11:45:25 - Initializing Spring embedded WebApplicationContext
2019-07-11 11:45:25 - Root WebApplicationContext: initialization completed in 3150 ms
2019-07-11 11:45:25 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 11:45:25 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 11:45:25 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 11:45:25 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 11:45:25 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 11:45:25 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController': Unsatisfied dependency expressed through field 'risOrderService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISOrderService': Unsatisfied dependency expressed through field 'risAPIService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'RISAPIServiceImpl' defined in file [H:\workspace\RISOrderAdaptor\bin\com\app\service\RISAPIServiceImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.app.service.RISAPIServiceImpl]: Constructor threw exception; nested exception is java.lang.NumberFormatException: null
2019-07-11 11:45:25 - Stopping service Tomcat
2019-07-11 11:45:25 - 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2019-07-11 11:45:25 - Application startup failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController': Unsatisfied dependency expressed through field 'risOrderService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISOrderService': Unsatisfied dependency expressed through field 'risAPIService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'RISAPIServiceImpl' defined in file [H:\workspace\RISOrderAdaptor\bin\com\app\service\RISAPIServiceImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.app.service.RISAPIServiceImpl]: Constructor threw exception; nested exception is java.lang.NumberFormatException: null
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:372)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1187)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1176)
	at com.app.MainApp.startServer(MainApp.java:41)
	at com.app.MainApp.main(MainApp.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISOrderService': Unsatisfied dependency expressed through field 'risAPIService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'RISAPIServiceImpl' defined in file [H:\workspace\RISOrderAdaptor\bin\com\app\service\RISAPIServiceImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.app.service.RISAPIServiceImpl]: Constructor threw exception; nested exception is java.lang.NumberFormatException: null
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'RISAPIServiceImpl' defined in file [H:\workspace\RISOrderAdaptor\bin\com\app\service\RISAPIServiceImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.app.service.RISAPIServiceImpl]: Constructor threw exception; nested exception is java.lang.NumberFormatException: null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 38 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.app.service.RISAPIServiceImpl]: Constructor threw exception; nested exception is java.lang.NumberFormatException: null
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:154)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1147)
	... 49 common frames omitted
Caused by: java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:415)
	at java.lang.Integer.parseInt(Integer.java:497)
	at com.app.service.RISAPIServiceImpl.<init>(RISAPIServiceImpl.java:54)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	... 51 common frames omitted
2019-07-11 11:50:19 - Starting MainApp on PC-workstation with PID 6396 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 11:50:19 - No active profile set, falling back to default profiles: default
2019-07-11 11:50:19 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@47c297a3: startup date [Thu Jul 11 11:50:19 CST 2019]; root of context hierarchy
2019-07-11 11:50:20 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 11:50:21 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 11:50:22 - Tomcat initialized with port(s): 80 (http)
2019-07-11 11:50:22 - Starting service Tomcat
2019-07-11 11:50:22 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 11:50:22 - Initializing Spring embedded WebApplicationContext
2019-07-11 11:50:22 - Root WebApplicationContext: initialization completed in 2903 ms
2019-07-11 11:50:22 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 11:50:22 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 11:50:22 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 11:50:22 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 11:50:22 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 11:50:25 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@47c297a3: startup date [Thu Jul 11 11:50:19 CST 2019]; root of context hierarchy
2019-07-11 11:50:25 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 11:50:25 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:50:25 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:50:25 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 11:50:25 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 11:50:25 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 11:50:25 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:50:25 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:50:25 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:50:25 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@47c297a3: startup date [Thu Jul 11 11:50:19 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 11:50:25 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 11:50:25 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 11:50:26 - LiveReload server is running on port 35729
2019-07-11 11:50:26 - Registering beans for JMX exposure on startup
2019-07-11 11:50:26 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 11:50:26 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 11:50:26 - Using a shared selector for servlet write/read
2019-07-11 11:50:26 - Tomcat started on port(s): 80 (http)
2019-07-11 11:50:26 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 11:50:27 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.252:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:50:27 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:50:27 - RIS API Test Result:Service帐号
2019-07-11 11:50:27 - RISAPI Test Result: Service帐号
2019-07-11 11:50:27 - DB Test Result: 2019-07-11
2019-07-11 11:50:27 - Started MainApp in 8.162 seconds (JVM running for 8.647)
2019-07-11 11:52:00 - Starting MainApp on PC-workstation with PID 3780 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 11:52:00 - No active profile set, falling back to default profiles: default
2019-07-11 11:52:00 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3a633d51: startup date [Thu Jul 11 11:52:00 CST 2019]; root of context hierarchy
2019-07-11 11:52:00 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 11:52:02 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 11:52:03 - Tomcat initialized with port(s): 80 (http)
2019-07-11 11:52:03 - Starting service Tomcat
2019-07-11 11:52:03 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 11:52:03 - Initializing Spring embedded WebApplicationContext
2019-07-11 11:52:03 - Root WebApplicationContext: initialization completed in 2988 ms
2019-07-11 11:52:03 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 11:52:03 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 11:52:03 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 11:52:03 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 11:52:03 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 11:52:05 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3a633d51: startup date [Thu Jul 11 11:52:00 CST 2019]; root of context hierarchy
2019-07-11 11:52:05 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 11:52:05 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:52:05 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:52:05 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 11:52:05 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 11:52:05 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 11:52:05 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:52:05 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:52:05 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:52:05 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3a633d51: startup date [Thu Jul 11 11:52:00 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 11:52:05 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 11:52:05 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 11:52:06 - LiveReload server is running on port 35729
2019-07-11 11:52:06 - Registering beans for JMX exposure on startup
2019-07-11 11:52:06 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 11:52:06 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 11:52:06 - Using a shared selector for servlet write/read
2019-07-11 11:52:06 - Tomcat started on port(s): 80 (http)
2019-07-11 11:52:06 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 11:52:07 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.252:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:52:07 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:52:07 - RIS API Test Result:Service帐号
2019-07-11 11:52:07 - RISAPI Test Result: Service帐号
2019-07-11 11:52:07 - DB Test Result: 2019-07-11
2019-07-11 11:52:07 - Started MainApp in 7.596 seconds (JVM running for 8.096)
2019-07-11 11:52:23 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 11:52:23 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 11:52:23 - FrameworkServlet 'dispatcherServlet': initialization completed in 9 ms
2019-07-11 11:52:23 - index mapping null
2019-07-11 11:52:28 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 11:52:28 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 11:52:28 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM001"/>
	<column name="e:WAIT,0046" value="1"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value="已收费"/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
</AEXMLMessage>


]
2019-07-11 11:52:28 - Creating Service {http://med.ge.com/rispacs/}RegistInfoOperationsService from class com.ge.med.rispacs.registerserver.RegistInfoOperations
2019-07-11 11:52:28 - Creating Service {http://med.ge.com/rispacs/}OrderProcessOperationsService from class com.ge.med.rispacs.registerserver.OrderProcessOperations
2019-07-11 11:52:28 - Creating Service {http://med.ge.com/rispacs/}ProcedureStepMgmtOperationsService from class com.ge.med.catcorb.procedurestep.ProcedureStepMgmtOperations
2019-07-11 11:52:28 - Creating Service {http://med.ge.com/rispacs/}ExamProcessOperationsService from class com.ge.med.rispacs.registerserver.ExamProcessOperations
2019-07-11 11:52:28 - Creating Service {http://med.ge.com/rispacs/}ModalityMgmtOperationsService from class com.ge.med.catcorb.modality.ModalityMgmtOperations
2019-07-11 11:52:28 - Creating Service {http://med.ge.com/rispacs/}ProcedureMgmtOperationsService from class com.ge.med.catcorb.procedure.ProcedureMgmtOperations
2019-07-11 11:52:29 - Outbound Message
---------------------------
ID: 2
Address: http://192.168.1.252:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;1&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;已收费&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.35</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:52:29 - Inbound Message
----------------------------
ID: 2
Response-Code: 500
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[488], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><soap:Fault><soap:Code><soap:Value>soap:Receiver</soap:Value></soap:Code><soap:Reason><soap:Text xml:lang="en">IDL:com/ge/med/ServException:1.0Please set the patientIDType in RISServer's app_config!</soap:Text></soap:Reason><soap:Detail><ns1:SimpleFault xmlns:ns1="http://med.ge.com/rispacs/"><message>ERROR_EMPTY_PAIENTIDTYPE</message></ns1:SimpleFault></soap:Detail></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:53:08 - Starting MainApp on PC-workstation with PID 2380 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 11:53:08 - No active profile set, falling back to default profiles: default
2019-07-11 11:53:08 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4805e9f1: startup date [Thu Jul 11 11:53:08 CST 2019]; root of context hierarchy
2019-07-11 11:53:08 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 11:53:10 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 11:53:12 - Tomcat initialized with port(s): 80 (http)
2019-07-11 11:53:12 - Starting service Tomcat
2019-07-11 11:53:12 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 11:53:12 - Initializing Spring embedded WebApplicationContext
2019-07-11 11:53:12 - Root WebApplicationContext: initialization completed in 3578 ms
2019-07-11 11:53:12 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 11:53:12 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 11:53:12 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 11:53:12 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 11:53:12 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 11:53:21 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4805e9f1: startup date [Thu Jul 11 11:53:08 CST 2019]; root of context hierarchy
2019-07-11 11:53:21 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 11:53:21 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:53:21 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:53:21 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 11:53:21 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 11:53:21 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 11:53:21 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:53:21 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:53:21 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:53:21 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4805e9f1: startup date [Thu Jul 11 11:53:08 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 11:53:21 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 11:53:21 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 11:53:22 - LiveReload server is running on port 35729
2019-07-11 11:53:22 - Registering beans for JMX exposure on startup
2019-07-11 11:53:22 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 11:53:22 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 11:53:22 - Using a shared selector for servlet write/read
2019-07-11 11:53:22 - Tomcat started on port(s): 80 (http)
2019-07-11 11:53:22 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 11:53:23 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.252:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:53:23 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:53:23 - RIS API Test Result:Service帐号
2019-07-11 11:53:23 - RISAPI Test Result: Service帐号
2019-07-11 11:53:24 - DB Test Result: 2019-07-11
2019-07-11 11:53:24 - Started MainApp in 15.862 seconds (JVM running for 16.68)
2019-07-11 11:53:29 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 11:53:29 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 11:53:29 - FrameworkServlet 'dispatcherServlet': initialization completed in 12 ms
2019-07-11 11:53:29 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 11:53:30 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 11:53:30 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM001"/>
	<column name="e:WAIT,0046" value="1"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value="已收费"/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
</AEXMLMessage>


]
2019-07-11 11:53:30 - Creating Service {http://med.ge.com/rispacs/}RegistInfoOperationsService from class com.ge.med.rispacs.registerserver.RegistInfoOperations
2019-07-11 11:53:30 - Creating Service {http://med.ge.com/rispacs/}OrderProcessOperationsService from class com.ge.med.rispacs.registerserver.OrderProcessOperations
2019-07-11 11:53:30 - Creating Service {http://med.ge.com/rispacs/}ProcedureStepMgmtOperationsService from class com.ge.med.catcorb.procedurestep.ProcedureStepMgmtOperations
2019-07-11 11:53:30 - Creating Service {http://med.ge.com/rispacs/}ExamProcessOperationsService from class com.ge.med.rispacs.registerserver.ExamProcessOperations
2019-07-11 11:53:30 - Creating Service {http://med.ge.com/rispacs/}ModalityMgmtOperationsService from class com.ge.med.catcorb.modality.ModalityMgmtOperations
2019-07-11 11:53:30 - Creating Service {http://med.ge.com/rispacs/}ProcedureMgmtOperationsService from class com.ge.med.catcorb.procedure.ProcedureMgmtOperations
2019-07-11 11:53:36 - Outbound Message
---------------------------
ID: 2
Address: http://192.168.1.252:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;1&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;已收费&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.35</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:53:36 - Inbound Message
----------------------------
ID: 2
Response-Code: 500
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[488], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><soap:Fault><soap:Code><soap:Value>soap:Receiver</soap:Value></soap:Code><soap:Reason><soap:Text xml:lang="en">IDL:com/ge/med/ServException:1.0Please set the patientIDType in RISServer's app_config!</soap:Text></soap:Reason><soap:Detail><ns1:SimpleFault xmlns:ns1="http://med.ge.com/rispacs/"><message>ERROR_EMPTY_PAIENTIDTYPE</message></ns1:SimpleFault></soap:Detail></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:54:48 - Starting MainApp on PC-workstation with PID 6228 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 11:54:48 - No active profile set, falling back to default profiles: default
2019-07-11 11:54:48 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@74e16785: startup date [Thu Jul 11 11:54:48 CST 2019]; root of context hierarchy
2019-07-11 11:54:49 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 11:54:50 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 11:54:52 - Tomcat initialized with port(s): 80 (http)
2019-07-11 11:54:52 - Starting service Tomcat
2019-07-11 11:54:52 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 11:54:52 - Initializing Spring embedded WebApplicationContext
2019-07-11 11:54:52 - Root WebApplicationContext: initialization completed in 3582 ms
2019-07-11 11:54:52 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 11:54:52 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 11:54:52 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 11:54:52 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 11:54:52 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 11:54:54 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@74e16785: startup date [Thu Jul 11 11:54:48 CST 2019]; root of context hierarchy
2019-07-11 11:54:54 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 11:54:54 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:54:54 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 11:54:54 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 11:54:54 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 11:54:54 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 11:54:54 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:54:54 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:54:54 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 11:54:55 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@74e16785: startup date [Thu Jul 11 11:54:48 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 11:54:55 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 11:54:55 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 11:54:55 - LiveReload server is running on port 35729
2019-07-11 11:54:55 - Registering beans for JMX exposure on startup
2019-07-11 11:54:55 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 11:54:55 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 11:54:55 - Using a shared selector for servlet write/read
2019-07-11 11:54:55 - Tomcat started on port(s): 80 (http)
2019-07-11 11:54:55 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 11:54:56 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.252:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:54:56 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:54:56 - RIS API Test Result:Service帐号
2019-07-11 11:54:56 - RISAPI Test Result: Service帐号
2019-07-11 11:54:56 - DB Test Result: 2019-07-11
2019-07-11 11:54:56 - Started MainApp in 8.718 seconds (JVM running for 9.423)
2019-07-11 11:54:58 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 11:54:58 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 11:54:58 - FrameworkServlet 'dispatcherServlet': initialization completed in 11 ms
2019-07-11 11:54:58 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 11:54:58 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 11:54:58 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM001"/>
	<column name="e:WAIT,0046" value="1"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value="已收费"/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
</AEXMLMessage>


]
2019-07-11 11:54:58 - Creating Service {http://med.ge.com/rispacs/}RegistInfoOperationsService from class com.ge.med.rispacs.registerserver.RegistInfoOperations
2019-07-11 11:54:58 - Creating Service {http://med.ge.com/rispacs/}OrderProcessOperationsService from class com.ge.med.rispacs.registerserver.OrderProcessOperations
2019-07-11 11:54:58 - Creating Service {http://med.ge.com/rispacs/}ProcedureStepMgmtOperationsService from class com.ge.med.catcorb.procedurestep.ProcedureStepMgmtOperations
2019-07-11 11:54:58 - Creating Service {http://med.ge.com/rispacs/}ExamProcessOperationsService from class com.ge.med.rispacs.registerserver.ExamProcessOperations
2019-07-11 11:54:58 - Creating Service {http://med.ge.com/rispacs/}ModalityMgmtOperationsService from class com.ge.med.catcorb.modality.ModalityMgmtOperations
2019-07-11 11:54:58 - Creating Service {http://med.ge.com/rispacs/}ProcedureMgmtOperationsService from class com.ge.med.catcorb.procedure.ProcedureMgmtOperations
2019-07-11 11:55:01 - Outbound Message
---------------------------
ID: 2
Address: http://192.168.1.252:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;1&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;已收费&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.35</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:55:01 - Inbound Message
----------------------------
ID: 2
Response-Code: 500
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[488], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><soap:Fault><soap:Code><soap:Value>soap:Receiver</soap:Value></soap:Code><soap:Reason><soap:Text xml:lang="en">IDL:com/ge/med/ServException:1.0Please set the patientIDType in RISServer's app_config!</soap:Text></soap:Reason><soap:Detail><ns1:SimpleFault xmlns:ns1="http://med.ge.com/rispacs/"><message>ERROR_EMPTY_PAIENTIDTYPE</message></ns1:SimpleFault></soap:Detail></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:56:54 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 11:56:54 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 11:56:54 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM001"/>
	<column name="e:WAIT,0046" value="1"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value="已收费"/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
</AEXMLMessage>


]
2019-07-11 11:56:55 - Outbound Message
---------------------------
ID: 3
Address: http://192.168.1.252:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;1&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;已收费&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.35</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 11:56:56 - Inbound Message
----------------------------
ID: 3
Response-Code: 500
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[483], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><soap:Fault><soap:Code><soap:Value>soap:Receiver</soap:Value></soap:Code><soap:Reason><soap:Text xml:lang="en">IDL:com/ge/med/ServException:1.0please set parameter : exam modalityid(e:WAIT,0018)</soap:Text></soap:Reason><soap:Detail><ns1:SimpleFault xmlns:ns1="http://med.ge.com/rispacs/"><message>ERROR_INVALID_PARAMETER</message></ns1:SimpleFault></soap:Detail></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:11:45 - Starting MainApp on PC-workstation with PID 7904 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 14:11:45 - No active profile set, falling back to default profiles: default
2019-07-11 14:11:45 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6f57b46f: startup date [Thu Jul 11 14:11:45 CST 2019]; root of context hierarchy
2019-07-11 14:11:45 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 14:35:57 - Starting MainApp on PC-workstation with PID 3508 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 14:35:57 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 14:35:57 - No active profile set, falling back to default profiles: default
2019-07-11 14:35:58 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4245c97b: startup date [Thu Jul 11 14:35:58 CST 2019]; root of context hierarchy
2019-07-11 14:35:58 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 14:35:59 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 14:36:00 - Tomcat initialized with port(s): 80 (http)
2019-07-11 14:36:00 - Starting service Tomcat
2019-07-11 14:36:00 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 14:36:00 - Initializing Spring embedded WebApplicationContext
2019-07-11 14:36:00 - Root WebApplicationContext: initialization completed in 2945 ms
2019-07-11 14:36:01 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 14:36:01 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 14:36:01 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 14:36:01 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 14:36:01 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 14:36:02 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4245c97b: startup date [Thu Jul 11 14:35:58 CST 2019]; root of context hierarchy
2019-07-11 14:36:02 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 14:36:02 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:36:02 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:36:02 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 14:36:02 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 14:36:02 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 14:36:02 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:36:02 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:36:02 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:36:03 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4245c97b: startup date [Thu Jul 11 14:35:58 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 14:36:03 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 14:36:03 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 14:36:03 - LiveReload server is running on port 35729
2019-07-11 14:36:03 - Registering beans for JMX exposure on startup
2019-07-11 14:36:03 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 14:36:03 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 14:36:03 - Using a shared selector for servlet write/read
2019-07-11 14:36:03 - Tomcat started on port(s): 80 (http)
2019-07-11 14:36:03 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 14:36:04 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.252:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:36:08 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 14:36:08 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 14:36:09 - FrameworkServlet 'dispatcherServlet': initialization completed in 11 ms
2019-07-11 14:36:09 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 14:36:09 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 14:36:09 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:76)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 14:36:25 - Interceptor for {http://med.ge.com/rispacs/}UserMgmtOperationsService#{http://med.ge.com/rispacs/}getUserInfoByUserLoginName has thrown exception, unwinding now
org.apache.cxf.interceptor.Fault: Could not send Message.
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:64)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262)
	at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:531)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:464)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:367)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:320)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:89)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134)
	at $Proxy106.getUserInfoByUserLoginName(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.ge.med.dragon.rispacs.service.CXFServiceProxy.invoke(CXFServiceProxy.java:56)
	at $Proxy107.getUserInfoByUserLoginName(Unknown Source)
	at com.app.MyBean.initRISAPI(MyBean.java:42)
	at com.app.MyStarter.run(MyStarter.java:30)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:801)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:785)
	at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:772)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:317)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1187)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1176)
	at com.app.MainApp.startServer(MainApp.java:41)
	at com.app.MainApp.main(MainApp.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.net.ConnectException: ConnectException invoking http://192.168.1.252:9000/services/UserMgmtService: Connection timed out: connect
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.mapException(HTTPConduit.java:1467)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1452)
	at org.apache.cxf.io.AbstractWrappedOutputStream.close(AbstractWrappedOutputStream.java:77)
	at org.apache.cxf.io.AbstractThresholdOutputStream.close(AbstractThresholdOutputStream.java:102)
	at org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:50)
	at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:187)
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:660)
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
	... 29 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:519)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:158)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:394)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:529)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:233)
	at sun.net.www.http.HttpClient.New(HttpClient.java:306)
	at sun.net.www.http.HttpClient.New(HttpClient.java:323)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:852)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:793)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:718)
	at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:896)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleHeadersTrustCaching(HTTPConduit.java:1410)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.onFirstWrite(HTTPConduit.java:1351)
	at org.apache.cxf.io.AbstractWrappedOutputStream.write(AbstractWrappedOutputStream.java:47)
	at org.apache.cxf.io.AbstractThresholdOutputStream.write(AbstractThresholdOutputStream.java:69)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1424)
	... 36 common frames omitted
2019-07-11 14:36:25 - 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2019-07-11 14:36:25 - Application startup failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:804)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:785)
	at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:772)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:317)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1187)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1176)
	at com.app.MainApp.startServer(MainApp.java:41)
	at com.app.MainApp.main(MainApp.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: javax.xml.ws.WebServiceException: Could not send Message.
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)
	at $Proxy106.getUserInfoByUserLoginName(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.ge.med.dragon.rispacs.service.CXFServiceProxy.invoke(CXFServiceProxy.java:56)
	at $Proxy107.getUserInfoByUserLoginName(Unknown Source)
	at com.app.MyBean.initRISAPI(MyBean.java:42)
	at com.app.MyStarter.run(MyStarter.java:30)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:801)
	... 12 common frames omitted
Caused by: java.net.ConnectException: ConnectException invoking http://192.168.1.252:9000/services/UserMgmtService: Connection timed out: connect
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.mapException(HTTPConduit.java:1467)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1452)
	at org.apache.cxf.io.AbstractWrappedOutputStream.close(AbstractWrappedOutputStream.java:77)
	at org.apache.cxf.io.AbstractThresholdOutputStream.close(AbstractThresholdOutputStream.java:102)
	at org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:50)
	at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:187)
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:660)
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262)
	at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:531)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:464)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:367)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:320)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:89)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134)
	... 22 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:519)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:158)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:394)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:529)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:233)
	at sun.net.www.http.HttpClient.New(HttpClient.java:306)
	at sun.net.www.http.HttpClient.New(HttpClient.java:323)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:852)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:793)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:718)
	at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:896)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleHeadersTrustCaching(HTTPConduit.java:1410)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.onFirstWrite(HTTPConduit.java:1351)
	at org.apache.cxf.io.AbstractWrappedOutputStream.write(AbstractWrappedOutputStream.java:47)
	at org.apache.cxf.io.AbstractThresholdOutputStream.write(AbstractThresholdOutputStream.java:69)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1424)
	... 36 common frames omitted
2019-07-11 14:36:25 - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4245c97b: startup date [Thu Jul 11 14:35:58 CST 2019]; root of context hierarchy
2019-07-11 14:36:25 - Unregistering JMX-exposed beans on shutdown
2019-07-11 14:36:39 - Starting MainApp on PC-workstation with PID 5128 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 14:36:39 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 14:36:39 - No active profile set, falling back to default profiles: default
2019-07-11 14:36:39 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@58e22f2b: startup date [Thu Jul 11 14:36:39 CST 2019]; root of context hierarchy
2019-07-11 14:36:39 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 14:36:40 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 14:36:41 - Tomcat initialized with port(s): 80 (http)
2019-07-11 14:36:41 - Starting service Tomcat
2019-07-11 14:36:41 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 14:36:42 - Initializing Spring embedded WebApplicationContext
2019-07-11 14:36:42 - Root WebApplicationContext: initialization completed in 2896 ms
2019-07-11 14:36:42 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 14:36:42 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 14:36:42 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 14:36:42 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 14:36:42 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 14:36:43 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@58e22f2b: startup date [Thu Jul 11 14:36:39 CST 2019]; root of context hierarchy
2019-07-11 14:36:43 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 14:36:43 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:36:43 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:36:43 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 14:36:43 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 14:36:43 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 14:36:43 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:36:43 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:36:44 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:36:44 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@58e22f2b: startup date [Thu Jul 11 14:36:39 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 14:36:44 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 14:36:44 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 14:36:44 - LiveReload server is running on port 35729
2019-07-11 14:36:44 - Registering beans for JMX exposure on startup
2019-07-11 14:36:44 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 14:36:44 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 14:36:44 - Using a shared selector for servlet write/read
2019-07-11 14:36:44 - Tomcat started on port(s): 80 (http)
2019-07-11 14:36:45 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 14:36:45 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:36:45 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:36:45 - RIS API Test Result:Service帐号
2019-07-11 14:36:45 - RISAPI Test Result: Service帐号
2019-07-11 14:36:46 - ==>  Preparing: select current_date 
2019-07-11 14:36:46 - ==> Parameters: 
2019-07-11 14:36:46 - <==      Total: 1
2019-07-11 14:36:46 - DB Test Result: 2019-07-11
2019-07-11 14:36:46 - Started MainApp in 7.575 seconds (JVM running for 8.053)
2019-07-11 14:36:54 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 14:36:54 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 14:36:55 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 14:36:55 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 14:36:55 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 14:36:55 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:76)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 14:37:14 - Starting MainApp on PC-workstation with PID 3520 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 14:37:14 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 14:37:14 - No active profile set, falling back to default profiles: default
2019-07-11 14:37:15 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7846a55e: startup date [Thu Jul 11 14:37:15 CST 2019]; root of context hierarchy
2019-07-11 14:37:15 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 14:37:16 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 14:37:18 - Tomcat initialized with port(s): 80 (http)
2019-07-11 14:37:18 - Starting service Tomcat
2019-07-11 14:37:18 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 14:37:18 - Initializing Spring embedded WebApplicationContext
2019-07-11 14:37:18 - Root WebApplicationContext: initialization completed in 3454 ms
2019-07-11 14:37:18 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 14:37:18 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 14:37:18 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 14:37:18 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 14:37:18 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 14:37:20 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7846a55e: startup date [Thu Jul 11 14:37:15 CST 2019]; root of context hierarchy
2019-07-11 14:37:20 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 14:37:20 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:37:20 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:37:20 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 14:37:20 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 14:37:20 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 14:37:20 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:37:20 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:37:20 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:37:20 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7846a55e: startup date [Thu Jul 11 14:37:15 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 14:37:20 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 14:37:20 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 14:37:21 - LiveReload server is running on port 35729
2019-07-11 14:37:21 - Registering beans for JMX exposure on startup
2019-07-11 14:37:21 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 14:37:21 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 14:37:21 - Using a shared selector for servlet write/read
2019-07-11 14:37:21 - Tomcat started on port(s): 80 (http)
2019-07-11 14:37:21 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 14:37:22 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:37:22 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:37:22 - RIS API Test Result:Service帐号
2019-07-11 14:37:22 - RISAPI Test Result: Service帐号
2019-07-11 14:37:23 - ==>  Preparing: select current_date 
2019-07-11 14:37:23 - ==> Parameters: 
2019-07-11 14:37:23 - <==      Total: 1
2019-07-11 14:37:23 - DB Test Result: 2019-07-11
2019-07-11 14:37:23 - Started MainApp in 8.787 seconds (JVM running for 9.439)
2019-07-11 14:37:26 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 14:37:26 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 14:37:26 - FrameworkServlet 'dispatcherServlet': initialization completed in 10 ms
2019-07-11 14:37:26 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 14:37:26 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 14:37:26 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.NumberFormatException: For input string: "'HISEXAMNO'"
### Cause: java.lang.NumberFormatException: For input string: "'HISEXAMNO'"] with root cause
java.lang.NumberFormatException: For input string: "'HISEXAMNO'"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:447)
	at java.lang.Integer.parseInt(Integer.java:497)
	at org.apache.ibatis.reflection.wrapper.BaseWrapper.getCollectionValue(BaseWrapper.java:49)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:43)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:220)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:231)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:128)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:68)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.searchOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:78)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 14:40:12 - Starting MainApp on PC-workstation with PID 7800 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 14:40:12 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 14:40:12 - No active profile set, falling back to default profiles: default
2019-07-11 14:40:12 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3622e177: startup date [Thu Jul 11 14:40:12 CST 2019]; root of context hierarchy
2019-07-11 14:40:13 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 14:40:14 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 14:40:16 - Tomcat initialized with port(s): 80 (http)
2019-07-11 14:40:16 - Starting service Tomcat
2019-07-11 14:40:16 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 14:40:16 - Initializing Spring embedded WebApplicationContext
2019-07-11 14:40:16 - Root WebApplicationContext: initialization completed in 3566 ms
2019-07-11 14:40:16 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 14:40:16 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 14:40:16 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 14:40:16 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 14:40:16 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 14:40:18 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3622e177: startup date [Thu Jul 11 14:40:12 CST 2019]; root of context hierarchy
2019-07-11 14:40:18 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 14:40:18 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:40:18 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:40:18 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 14:40:18 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 14:40:18 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 14:40:18 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:40:18 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:40:18 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:40:19 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3622e177: startup date [Thu Jul 11 14:40:12 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 14:40:19 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 14:40:19 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 14:40:19 - LiveReload server is running on port 35729
2019-07-11 14:40:19 - Registering beans for JMX exposure on startup
2019-07-11 14:40:19 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 14:40:19 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 14:40:19 - Using a shared selector for servlet write/read
2019-07-11 14:40:19 - Tomcat started on port(s): 80 (http)
2019-07-11 14:40:20 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 14:40:20 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 14:40:20 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 14:40:20 - FrameworkServlet 'dispatcherServlet': initialization completed in 18 ms
2019-07-11 14:40:20 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 14:40:20 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 14:40:20 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.NumberFormatException: For input string: "HISEXAMNO"
### Cause: java.lang.NumberFormatException: For input string: "HISEXAMNO"] with root cause
java.lang.NumberFormatException: For input string: "HISEXAMNO"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:447)
	at java.lang.Integer.parseInt(Integer.java:497)
	at org.apache.ibatis.reflection.wrapper.BaseWrapper.getCollectionValue(BaseWrapper.java:49)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:43)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:220)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:231)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:128)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:68)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.searchOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:78)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 14:40:20 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:40:20 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:40:20 - RIS API Test Result:Service帐号
2019-07-11 14:40:20 - RISAPI Test Result: Service帐号
2019-07-11 14:40:21 - ==>  Preparing: select current_date 
2019-07-11 14:40:21 - ==> Parameters: 
2019-07-11 14:40:21 - <==      Total: 1
2019-07-11 14:40:21 - DB Test Result: 2019-07-11
2019-07-11 14:40:21 - Started MainApp in 9.088 seconds (JVM running for 9.734)
2019-07-11 14:41:37 - Starting MainApp on PC-workstation with PID 7096 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 14:41:37 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 14:41:37 - No active profile set, falling back to default profiles: default
2019-07-11 14:41:38 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@a6dddcf: startup date [Thu Jul 11 14:41:38 CST 2019]; root of context hierarchy
2019-07-11 14:41:38 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 14:41:39 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 14:41:41 - Tomcat initialized with port(s): 80 (http)
2019-07-11 14:41:41 - Starting service Tomcat
2019-07-11 14:41:41 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 14:41:41 - Initializing Spring embedded WebApplicationContext
2019-07-11 14:41:41 - Root WebApplicationContext: initialization completed in 3484 ms
2019-07-11 14:41:41 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 14:41:41 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 14:41:41 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 14:41:41 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 14:41:41 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 14:41:43 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@a6dddcf: startup date [Thu Jul 11 14:41:38 CST 2019]; root of context hierarchy
2019-07-11 14:41:43 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 14:41:43 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:41:43 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:41:43 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 14:41:43 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 14:41:43 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 14:41:43 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:41:43 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:41:43 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:41:43 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@a6dddcf: startup date [Thu Jul 11 14:41:38 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 14:41:43 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 14:41:43 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 14:41:44 - LiveReload server is running on port 35729
2019-07-11 14:41:44 - Registering beans for JMX exposure on startup
2019-07-11 14:41:44 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 14:41:44 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 14:41:44 - Using a shared selector for servlet write/read
2019-07-11 14:41:44 - Tomcat started on port(s): 80 (http)
2019-07-11 14:41:44 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 14:41:45 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:41:45 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:41:45 - RIS API Test Result:Service帐号
2019-07-11 14:41:45 - RISAPI Test Result: Service帐号
2019-07-11 14:41:45 - ==>  Preparing: select current_date 
2019-07-11 14:41:45 - ==> Parameters: 
2019-07-11 14:41:45 - <==      Total: 1
2019-07-11 14:41:45 - DB Test Result: 2019-07-11
2019-07-11 14:41:45 - Started MainApp in 8.458 seconds (JVM running for 9.153)
2019-07-11 14:41:48 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 14:41:48 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 14:41:48 - FrameworkServlet 'dispatcherServlet': initialization completed in 12 ms
2019-07-11 14:41:48 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 14:41:48 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 14:41:48 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 14:41:48 - ==> Parameters: HISEXAM001(String)
2019-07-11 14:41:48 - <==      Total: 0
2019-07-11 14:41:48 - search Exist orders:0
2019-07-11 14:41:48 - inserting orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 14:41:48 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.app.dao.RISDao.saveOrder] with root cause
org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.app.dao.RISDao.saveOrder
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:214)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:48)
	at org.apache.ibatis.binding.MapperProxy.cachedMapperMethod(MapperProxy.java:59)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at $Proxy63.saveOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:87)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 14:51:59 - Starting MainApp on PC-workstation with PID 5384 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 14:51:59 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 14:51:59 - No active profile set, falling back to default profiles: default
2019-07-11 14:51:59 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@319da967: startup date [Thu Jul 11 14:51:59 CST 2019]; root of context hierarchy
2019-07-11 14:51:59 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 14:52:00 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 14:52:06 - Starting MainApp on PC-workstation with PID 3608 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 14:52:06 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 14:52:06 - No active profile set, falling back to default profiles: default
2019-07-11 14:52:06 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5a943dc4: startup date [Thu Jul 11 14:52:06 CST 2019]; root of context hierarchy
2019-07-11 14:52:06 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 14:52:07 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 14:52:08 - Tomcat initialized with port(s): 80 (http)
2019-07-11 14:52:08 - Starting service Tomcat
2019-07-11 14:52:08 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 14:52:09 - Initializing Spring embedded WebApplicationContext
2019-07-11 14:52:09 - Root WebApplicationContext: initialization completed in 2926 ms
2019-07-11 14:52:09 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 14:52:09 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 14:52:09 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 14:52:09 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 14:52:09 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 14:52:10 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController': Unsatisfied dependency expressed through field 'risOrderService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISOrderService': Unsatisfied dependency expressed through field 'risAPIService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISAPIServiceImpl': Unsatisfied dependency expressed through field 'risdao'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISDao' defined in file [H:\workspace\RISOrderAdaptor\bin\com\app\dao\RISDao.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
2019-07-11 14:52:10 - Stopping service Tomcat
2019-07-11 14:52:10 - 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2019-07-11 14:52:10 - Application startup failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController': Unsatisfied dependency expressed through field 'risOrderService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISOrderService': Unsatisfied dependency expressed through field 'risAPIService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISAPIServiceImpl': Unsatisfied dependency expressed through field 'risdao'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISDao' defined in file [H:\workspace\RISOrderAdaptor\bin\com\app\dao\RISDao.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:372)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1187)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1176)
	at com.app.MainApp.startServer(MainApp.java:41)
	at com.app.MainApp.main(MainApp.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISOrderService': Unsatisfied dependency expressed through field 'risAPIService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISAPIServiceImpl': Unsatisfied dependency expressed through field 'risdao'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISDao' defined in file [H:\workspace\RISOrderAdaptor\bin\com\app\dao\RISDao.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISAPIServiceImpl': Unsatisfied dependency expressed through field 'risdao'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISDao' defined in file [H:\workspace\RISOrderAdaptor\bin\com\app\dao\RISDao.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 38 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'RISDao' defined in file [H:\workspace\RISOrderAdaptor\bin\com\app\dao\RISDao.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1249)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 51 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1342)
	... 62 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)
	... 74 common frames omitted
Caused by: org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:522)
	at org.mybatis.spring.SqlSessionFactoryBean.afterPropertiesSet(SqlSessionFactoryBean.java:381)
	at org.mybatis.spring.SqlSessionFactoryBean.getObject(SqlSessionFactoryBean.java:546)
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration.sqlSessionFactory(MybatisAutoConfiguration.java:130)
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$b5790d01.CGLIB$sqlSessionFactory$1(<generated>)
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$b5790d01$$FastClassBySpringCGLIB$$e7ddbd18.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358)
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$b5790d01.sqlSessionFactory(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)
	... 75 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:120)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.parse(XMLMapperBuilder.java:92)
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:520)
	... 88 common frames omitted
Caused by: java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.app.dao.RISDao.searchOrder
	at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:837)
	at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:809)
	at org.apache.ibatis.session.Configuration.addMappedStatement(Configuration.java:633)
	at org.apache.ibatis.builder.MapperBuilderAssistant.addMappedStatement(MapperBuilderAssistant.java:302)
	at org.apache.ibatis.builder.xml.XMLStatementBuilder.parseStatementNode(XMLStatementBuilder.java:109)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.buildStatementFromContext(XMLMapperBuilder.java:135)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.buildStatementFromContext(XMLMapperBuilder.java:128)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:118)
	... 90 common frames omitted
2019-07-11 14:52:22 - Starting MainApp on PC-workstation with PID 7664 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 14:52:22 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 14:52:22 - No active profile set, falling back to default profiles: default
2019-07-11 14:52:22 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@494eaec9: startup date [Thu Jul 11 14:52:22 CST 2019]; root of context hierarchy
2019-07-11 14:52:22 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 14:52:23 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 14:52:24 - Tomcat initialized with port(s): 80 (http)
2019-07-11 14:52:24 - Starting service Tomcat
2019-07-11 14:52:24 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 14:52:25 - Initializing Spring embedded WebApplicationContext
2019-07-11 14:52:25 - Root WebApplicationContext: initialization completed in 2859 ms
2019-07-11 14:52:25 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 14:52:25 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 14:52:25 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 14:52:25 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 14:52:25 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 14:52:26 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@494eaec9: startup date [Thu Jul 11 14:52:22 CST 2019]; root of context hierarchy
2019-07-11 14:52:26 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 14:52:26 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:52:26 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 14:52:26 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 14:52:26 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 14:52:26 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 14:52:26 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:52:26 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:52:26 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 14:52:27 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@494eaec9: startup date [Thu Jul 11 14:52:22 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 14:52:27 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 14:52:27 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 14:52:27 - LiveReload server is running on port 35729
2019-07-11 14:52:27 - Registering beans for JMX exposure on startup
2019-07-11 14:52:27 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 14:52:27 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 14:52:27 - Using a shared selector for servlet write/read
2019-07-11 14:52:27 - Tomcat started on port(s): 80 (http)
2019-07-11 14:52:28 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 14:52:28 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:52:28 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 14:52:28 - RIS API Test Result:Service帐号
2019-07-11 14:52:28 - RISAPI Test Result: Service帐号
2019-07-11 14:52:28 - ==>  Preparing: select current_date 
2019-07-11 14:52:28 - ==> Parameters: 
2019-07-11 14:52:29 - <==      Total: 1
2019-07-11 14:52:29 - DB Test Result: 2019-07-11
2019-07-11 14:52:29 - Started MainApp in 7.297 seconds (JVM running for 7.798)
2019-07-11 14:52:38 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 14:52:38 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 14:52:38 - FrameworkServlet 'dispatcherServlet': initialization completed in 9 ms
2019-07-11 14:52:39 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 14:52:39 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 14:52:39 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 14:52:39 - ==> Parameters: HISEXAM001(String)
2019-07-11 14:52:39 - <==      Total: 0
2019-07-11 14:52:39 - search Exist orders:0
2019-07-11 14:52:39 - inserting orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 14:52:39 - ==>  Preparing: insert into hisorder.his_order (patientId,cardNO, area, areaCode,bedNO,identityNO, patientName,phone,sex,brithday,address,contactTel,applyOfficeCode, applyOffice, applyCode, executeOfficeCode, executeOffice, orderCode, checkMethodCode, checkMethod, note, visitNO, disease,history, createDate, createTime, charge, applyDate, applyTime, patientCode) values( DIAGNOSEID ) 
2019-07-11 14:52:39 - ==> Parameters: 
2019-07-11 14:52:39 - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-07-11 14:52:39 - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2019-07-11 14:52:39 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLException: Column count doesn't match value count at row 1
### The error may exist in file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]
### The error may involve com.app.dao.RISDao.saveOrder-Inline
### The error occurred while setting parameters
### SQL: insert into hisorder.his_order         (patientId,cardNO, area, areaCode,bedNO,identityNO,         patientName,phone,sex,brithday,address,contactTel,applyOfficeCode,         applyOffice, applyCode, executeOfficeCode, executeOffice, orderCode, checkMethodCode,         checkMethod, note, visitNO, disease,history, createDate, createTime,         charge,        applyDate,  applyTime,  patientCode)         values(          DIAGNOSEID         )
### Cause: java.sql.SQLException: Column count doesn't match value count at row 1
; bad SQL grammar []; nested exception is java.sql.SQLException: Column count doesn't match value count at row 1] with root cause
java.sql.SQLException: Column count doesn't match value count at row 1
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:964)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at $Proxy111.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:63)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:167)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.saveOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:87)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:21:12 - Starting MainApp on PC-workstation with PID 7452 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:21:12 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:21:12 - No active profile set, falling back to default profiles: default
2019-07-11 15:21:12 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4cb533b8: startup date [Thu Jul 11 15:21:12 CST 2019]; root of context hierarchy
2019-07-11 15:21:12 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:21:13 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:21:14 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:21:14 - Starting service Tomcat
2019-07-11 15:21:14 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:21:15 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:21:15 - Root WebApplicationContext: initialization completed in 2919 ms
2019-07-11 15:21:15 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:21:15 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:21:15 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:21:15 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:21:15 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:21:16 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4cb533b8: startup date [Thu Jul 11 15:21:12 CST 2019]; root of context hierarchy
2019-07-11 15:21:16 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:21:16 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:21:16 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:21:16 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:21:16 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:21:16 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:21:17 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:21:17 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:21:17 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:21:17 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4cb533b8: startup date [Thu Jul 11 15:21:12 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:21:17 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:21:17 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:21:17 - LiveReload server is running on port 35729
2019-07-11 15:21:17 - Registering beans for JMX exposure on startup
2019-07-11 15:21:17 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:21:17 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:21:17 - Using a shared selector for servlet write/read
2019-07-11 15:21:17 - Tomcat started on port(s): 80 (http)
2019-07-11 15:21:18 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:21:18 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:21:18 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:21:18 - RIS API Test Result:Service帐号
2019-07-11 15:21:18 - RISAPI Test Result: Service帐号
2019-07-11 15:21:19 - ==>  Preparing: select current_date 
2019-07-11 15:21:19 - ==> Parameters: 
2019-07-11 15:21:19 - <==      Total: 1
2019-07-11 15:21:19 - DB Test Result: 2019-07-11
2019-07-11 15:21:19 - Started MainApp in 7.33 seconds (JVM running for 7.826)
2019-07-11 15:21:21 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:21:21 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:21:21 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 15:21:21 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:21:21 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:21:21 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:21:21 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:21:21 - <==      Total: 0
2019-07-11 15:21:21 - search Exist orders:0
2019-07-11 15:21:21 - inserting orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:21:21 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.NumberFormatException: For input string: "HISEXAMNO"
### Cause: java.lang.NumberFormatException: For input string: "HISEXAMNO"] with root cause
java.lang.NumberFormatException: For input string: "HISEXAMNO"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:447)
	at java.lang.Integer.parseInt(Integer.java:497)
	at org.apache.ibatis.reflection.wrapper.BaseWrapper.getCollectionValue(BaseWrapper.java:49)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:43)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:220)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:167)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.saveOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:87)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:22:01 - Starting MainApp on PC-workstation with PID 7284 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:22:01 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:22:01 - No active profile set, falling back to default profiles: default
2019-07-11 15:22:01 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b3e75a5: startup date [Thu Jul 11 15:22:01 CST 2019]; root of context hierarchy
2019-07-11 15:22:01 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:22:02 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:22:03 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:22:03 - Starting service Tomcat
2019-07-11 15:22:03 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:22:04 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:22:04 - Root WebApplicationContext: initialization completed in 2912 ms
2019-07-11 15:22:04 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:22:04 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:22:04 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:22:04 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:22:04 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:22:05 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b3e75a5: startup date [Thu Jul 11 15:22:01 CST 2019]; root of context hierarchy
2019-07-11 15:22:05 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:22:05 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:22:05 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:22:05 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:22:05 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:22:05 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:22:05 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:22:05 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:22:05 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:22:06 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b3e75a5: startup date [Thu Jul 11 15:22:01 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:22:06 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:22:06 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:22:06 - LiveReload server is running on port 35729
2019-07-11 15:22:06 - Registering beans for JMX exposure on startup
2019-07-11 15:22:06 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:22:06 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:22:06 - Using a shared selector for servlet write/read
2019-07-11 15:22:06 - Tomcat started on port(s): 80 (http)
2019-07-11 15:22:07 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:22:07 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:22:07 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:22:07 - RIS API Test Result:Service帐号
2019-07-11 15:22:07 - RISAPI Test Result: Service帐号
2019-07-11 15:22:08 - ==>  Preparing: select current_date 
2019-07-11 15:22:08 - ==> Parameters: 
2019-07-11 15:22:08 - <==      Total: 1
2019-07-11 15:22:08 - DB Test Result: 2019-07-11
2019-07-11 15:22:08 - Started MainApp in 7.438 seconds (JVM running for 7.924)
2019-07-11 15:22:08 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:22:08 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:22:08 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 15:22:08 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:22:08 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:22:08 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:22:08 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:22:08 - <==      Total: 0
2019-07-11 15:22:08 - search Exist orders:0
2019-07-11 15:22:08 - inserting orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:22:08 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.NumberFormatException: For input string: "HISEXAMNO"
### Cause: java.lang.NumberFormatException: For input string: "HISEXAMNO"] with root cause
java.lang.NumberFormatException: For input string: "HISEXAMNO"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:447)
	at java.lang.Integer.parseInt(Integer.java:497)
	at org.apache.ibatis.reflection.wrapper.BaseWrapper.getCollectionValue(BaseWrapper.java:49)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:43)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:220)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:167)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.saveOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:87)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:33:34 - Starting MainApp on PC-workstation with PID 2388 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:33:34 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:33:34 - No active profile set, falling back to default profiles: default
2019-07-11 15:33:34 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@22b6d6ab: startup date [Thu Jul 11 15:33:34 CST 2019]; root of context hierarchy
2019-07-11 15:33:35 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:33:36 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:33:37 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:33:37 - Starting service Tomcat
2019-07-11 15:33:37 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:33:38 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:33:38 - Root WebApplicationContext: initialization completed in 3113 ms
2019-07-11 15:33:38 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:33:38 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:33:38 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:33:38 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:33:38 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:33:39 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@22b6d6ab: startup date [Thu Jul 11 15:33:34 CST 2019]; root of context hierarchy
2019-07-11 15:33:39 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:33:39 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:33:39 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:33:39 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:33:39 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:33:39 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:33:39 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:33:39 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:33:40 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:33:40 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@22b6d6ab: startup date [Thu Jul 11 15:33:34 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:33:40 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:33:40 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:33:40 - LiveReload server is running on port 35729
2019-07-11 15:33:40 - Registering beans for JMX exposure on startup
2019-07-11 15:33:40 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:33:40 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:33:40 - Using a shared selector for servlet write/read
2019-07-11 15:33:40 - Tomcat started on port(s): 80 (http)
2019-07-11 15:33:40 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:33:41 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:33:41 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:33:41 - RIS API Test Result:Service帐号
2019-07-11 15:33:41 - RISAPI Test Result: Service帐号
2019-07-11 15:33:41 - ==>  Preparing: select current_date 
2019-07-11 15:33:41 - ==> Parameters: 
2019-07-11 15:33:41 - <==      Total: 1
2019-07-11 15:33:41 - DB Test Result: 2019-07-11
2019-07-11 15:33:41 - Started MainApp in 7.437 seconds (JVM running for 7.916)
2019-07-11 15:33:42 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:33:42 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:33:42 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 15:33:42 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:33:42 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:33:42 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:33:42 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:33:42 - <==      Total: 0
2019-07-11 15:33:42 - search Exist orders:0
2019-07-11 15:33:42 - inserting orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:33:42 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.NumberFormatException: For input string: "PATIENTTYPE"
### Cause: java.lang.NumberFormatException: For input string: "PATIENTTYPE"] with root cause
java.lang.NumberFormatException: For input string: "PATIENTTYPE"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:447)
	at java.lang.Integer.parseInt(Integer.java:497)
	at org.apache.ibatis.reflection.wrapper.BaseWrapper.getCollectionValue(BaseWrapper.java:49)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:43)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:220)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:167)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.saveOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:87)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:34:43 - Starting MainApp on PC-workstation with PID 5392 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:34:43 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:34:43 - No active profile set, falling back to default profiles: default
2019-07-11 15:34:43 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6e8f94: startup date [Thu Jul 11 15:34:43 CST 2019]; root of context hierarchy
2019-07-11 15:34:43 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:34:44 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:34:46 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:34:46 - Starting service Tomcat
2019-07-11 15:34:46 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:34:46 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:34:46 - Root WebApplicationContext: initialization completed in 2940 ms
2019-07-11 15:34:46 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:34:46 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:34:46 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:34:46 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:34:46 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:34:48 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6e8f94: startup date [Thu Jul 11 15:34:43 CST 2019]; root of context hierarchy
2019-07-11 15:34:48 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:34:48 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:34:48 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:34:48 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:34:48 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:34:48 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:34:48 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:34:48 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:34:48 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:34:48 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6e8f94: startup date [Thu Jul 11 15:34:43 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:34:48 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:34:48 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:34:48 - LiveReload server is running on port 35729
2019-07-11 15:34:48 - Registering beans for JMX exposure on startup
2019-07-11 15:34:48 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:34:48 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:34:48 - Using a shared selector for servlet write/read
2019-07-11 15:34:48 - Tomcat started on port(s): 80 (http)
2019-07-11 15:34:49 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:34:49 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:34:49 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:34:49 - RIS API Test Result:Service帐号
2019-07-11 15:34:49 - RISAPI Test Result: Service帐号
2019-07-11 15:34:50 - ==>  Preparing: select current_date 
2019-07-11 15:34:50 - ==> Parameters: 
2019-07-11 15:34:50 - <==      Total: 1
2019-07-11 15:34:50 - DB Test Result: 2019-07-11
2019-07-11 15:34:50 - Started MainApp in 7.359 seconds (JVM running for 7.869)
2019-07-11 15:34:51 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:34:51 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:34:51 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 15:34:52 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:34:52 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:34:52 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:34:52 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:34:52 - <==      Total: 0
2019-07-11 15:34:52 - search Exist orders:0
2019-07-11 15:34:52 - inserting orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:34:52 - ==>  Preparing: insert into hisorder.his_order (applyCode,patientCode,visitNO,patientId,cardNO, patientName,brithday,sex,phone,address, authorName,authorCode,checkMethod,checkMethodCode, applyOffice,checkPart,disease,history,note,bedNO,charge, identityNO,organization,verifierTime,authorTime,executeOfficeCode, executeOffice, yibao,orderCode,createDate, createTime) values( ?,?,?,?,?, ?,?,?,?,?, ?,?,?,?, ?,?,?,?, ?,?,?, ?,?,?,?,?,?, ?,?, current_date,current_time ) 
2019-07-11 15:34:52 - ==> Parameters: HISEXAM001(String), 1(String), 2(String), DIAGID001(String), HISID001(String), 测试患者(String), 1980-01-01(String), 女(String), 11911912000(String), 北京市(String), 李医生(String), (String), 胸部正侧位(String), HISDX001(String), 外科一(String), (String), 外伤(String), (String), 输助诊断(String), (String), 209.01(String), 110101198001012430(String), AA(String), 2019:01:01(String), 20190101120010(String), 放射科(String), 放射科(String), 自费(String), 100888101281(String)
2019-07-11 15:34:52 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.apache.ibatis.binding.BindingException: Mapper method 'com.app.dao.RISDao.saveOrder attempted to return null from a method with a primitive return type (int).] with root cause
org.apache.ibatis.binding.BindingException: Mapper method 'com.app.dao.RISDao.saveOrder attempted to return null from a method with a primitive return type (int).
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:83)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.saveOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:87)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:36:14 - Starting MainApp on PC-workstation with PID 6724 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:36:14 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:36:14 - No active profile set, falling back to default profiles: default
2019-07-11 15:36:14 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@73aecc3a: startup date [Thu Jul 11 15:36:14 CST 2019]; root of context hierarchy
2019-07-11 15:36:14 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:36:15 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:36:16 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:36:16 - Starting service Tomcat
2019-07-11 15:36:16 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:36:17 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:36:17 - Root WebApplicationContext: initialization completed in 2916 ms
2019-07-11 15:36:17 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:36:17 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:36:17 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:36:17 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:36:17 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:36:32 - Starting MainApp on PC-workstation with PID 7612 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:36:32 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:36:32 - No active profile set, falling back to default profiles: default
2019-07-11 15:36:32 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@769aba32: startup date [Thu Jul 11 15:36:32 CST 2019]; root of context hierarchy
2019-07-11 15:36:36 - Starting MainApp on PC-workstation with PID 7984 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:36:36 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:36:36 - No active profile set, falling back to default profiles: default
2019-07-11 15:36:36 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@a3468f4: startup date [Thu Jul 11 15:36:36 CST 2019]; root of context hierarchy
2019-07-11 15:36:37 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:36:38 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:36:39 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:36:39 - Starting service Tomcat
2019-07-11 15:36:39 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:36:39 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:36:39 - Root WebApplicationContext: initialization completed in 2889 ms
2019-07-11 15:36:39 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:36:39 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:36:39 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:36:39 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:36:39 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:36:41 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@a3468f4: startup date [Thu Jul 11 15:36:36 CST 2019]; root of context hierarchy
2019-07-11 15:36:41 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:36:41 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:36:41 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:36:41 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:36:41 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:36:41 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:36:41 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:36:41 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:36:41 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:36:41 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@a3468f4: startup date [Thu Jul 11 15:36:36 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:36:41 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:36:41 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:36:41 - LiveReload server is running on port 35729
2019-07-11 15:36:42 - Registering beans for JMX exposure on startup
2019-07-11 15:36:42 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:36:42 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:36:42 - Using a shared selector for servlet write/read
2019-07-11 15:36:42 - Tomcat started on port(s): 80 (http)
2019-07-11 15:36:42 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:36:43 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:36:43 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:36:43 - RIS API Test Result:Service帐号
2019-07-11 15:36:43 - RISAPI Test Result: Service帐号
2019-07-11 15:36:43 - ==>  Preparing: select current_date 
2019-07-11 15:36:43 - ==> Parameters: 
2019-07-11 15:36:43 - <==      Total: 1
2019-07-11 15:36:43 - DB Test Result: 2019-07-11
2019-07-11 15:36:43 - Started MainApp in 7.17 seconds (JVM running for 7.657)
2019-07-11 15:36:45 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:36:45 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:36:45 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 15:36:45 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:36:45 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:36:45 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.Error: Unresolved compilation problems: 
	Type mismatch: cannot convert from void to int
	Type mismatch: cannot convert from void to int
] with root cause
java.lang.Error: Unresolved compilation problems: 
	Type mismatch: cannot convert from void to int
	Type mismatch: cannot convert from void to int

	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:83)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:37:02 - Starting MainApp on PC-workstation with PID 4772 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:37:02 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:37:02 - No active profile set, falling back to default profiles: default
2019-07-11 15:37:02 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@78482bad: startup date [Thu Jul 11 15:37:02 CST 2019]; root of context hierarchy
2019-07-11 15:37:02 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:37:04 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:37:05 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:37:05 - Starting service Tomcat
2019-07-11 15:37:05 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:37:06 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:37:06 - Root WebApplicationContext: initialization completed in 3553 ms
2019-07-11 15:37:06 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:37:06 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:37:06 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:37:06 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:37:06 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:37:08 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@78482bad: startup date [Thu Jul 11 15:37:02 CST 2019]; root of context hierarchy
2019-07-11 15:37:08 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:37:08 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:37:08 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:37:08 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:37:08 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:37:08 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:37:08 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:37:08 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:37:08 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:37:08 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@78482bad: startup date [Thu Jul 11 15:37:02 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:37:08 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:37:08 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:37:08 - LiveReload server is running on port 35729
2019-07-11 15:37:08 - Registering beans for JMX exposure on startup
2019-07-11 15:37:08 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:37:08 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:37:08 - Using a shared selector for servlet write/read
2019-07-11 15:37:09 - Tomcat started on port(s): 80 (http)
2019-07-11 15:37:09 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:37:10 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:37:10 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:37:10 - FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
2019-07-11 15:37:10 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:37:10 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:37:10 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:37:10 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:37:10 - RIS API Test Result:Service帐号
2019-07-11 15:37:10 - RISAPI Test Result: Service帐号
2019-07-11 15:37:10 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:37:10 - ==>  Preparing: select current_date 
2019-07-11 15:37:10 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:37:10 - ==> Parameters: 
2019-07-11 15:37:10 - <==      Total: 1
2019-07-11 15:37:10 - DB Test Result: 2019-07-11
2019-07-11 15:37:10 - Started MainApp in 8.82 seconds (JVM running for 9.418)
2019-07-11 15:37:10 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.UnsupportedOperationException
### The error may exist in file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]
### The error may involve com.app.dao.RISDao.searchOrder
### The error occurred while handling results
### SQL: select * from hisorder.his_order where applyCode=?                  and validFlag=0
### Cause: java.lang.UnsupportedOperationException] with root cause
java.lang.UnsupportedOperationException: null
	at org.apache.ibatis.reflection.wrapper.CollectionWrapper.findProperty(CollectionWrapper.java:48)
	at org.apache.ibatis.reflection.MetaObject.findProperty(MetaObject.java:85)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createAutomaticMappings(DefaultResultSetHandler.java:473)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyAutomaticMappings(DefaultResultSetHandler.java:494)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:385)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:339)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:314)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:287)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:183)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:231)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:128)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:68)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.searchOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:78)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:38:07 - Starting MainApp on PC-workstation with PID 7284 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:38:07 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:38:07 - No active profile set, falling back to default profiles: default
2019-07-11 15:38:07 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3c6b93c5: startup date [Thu Jul 11 15:38:07 CST 2019]; root of context hierarchy
2019-07-11 15:38:08 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:38:09 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:38:10 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:38:10 - Starting service Tomcat
2019-07-11 15:38:10 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:38:11 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:38:11 - Root WebApplicationContext: initialization completed in 3538 ms
2019-07-11 15:38:11 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:38:11 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:38:11 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:38:11 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:38:11 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:38:13 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3c6b93c5: startup date [Thu Jul 11 15:38:07 CST 2019]; root of context hierarchy
2019-07-11 15:38:13 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:38:13 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:38:13 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:38:13 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:38:13 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:38:13 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:38:13 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:38:13 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:38:13 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:38:13 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3c6b93c5: startup date [Thu Jul 11 15:38:07 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:38:13 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:38:13 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:38:13 - LiveReload server is running on port 35729
2019-07-11 15:38:13 - Registering beans for JMX exposure on startup
2019-07-11 15:38:14 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:38:14 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:38:14 - Using a shared selector for servlet write/read
2019-07-11 15:38:14 - Tomcat started on port(s): 80 (http)
2019-07-11 15:38:14 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:38:15 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:38:15 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:38:15 - RIS API Test Result:Service帐号
2019-07-11 15:38:15 - RISAPI Test Result: Service帐号
2019-07-11 15:38:15 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:38:15 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:38:15 - FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
2019-07-11 15:38:15 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:38:15 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:38:15 - ==>  Preparing: select current_date 
2019-07-11 15:38:15 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:38:15 - ==> Parameters: 
2019-07-11 15:38:15 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:38:15 - <==      Total: 1
2019-07-11 15:38:15 - DB Test Result: 2019-07-11
2019-07-11 15:38:15 - Started MainApp in 8.599 seconds (JVM running for 9.315)
2019-07-11 15:38:15 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.UnsupportedOperationException
### The error may exist in file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]
### The error may involve com.app.dao.RISDao.searchOrder
### The error occurred while handling results
### SQL: select * from hisorder.his_order where applyCode=?                  and validFlag=0
### Cause: java.lang.UnsupportedOperationException] with root cause
java.lang.UnsupportedOperationException: null
	at org.apache.ibatis.reflection.wrapper.CollectionWrapper.findProperty(CollectionWrapper.java:48)
	at org.apache.ibatis.reflection.MetaObject.findProperty(MetaObject.java:85)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createAutomaticMappings(DefaultResultSetHandler.java:473)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyAutomaticMappings(DefaultResultSetHandler.java:494)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:385)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:339)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:314)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:287)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:183)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:231)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:128)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:68)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.searchOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:78)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:39:25 - Starting MainApp on PC-workstation with PID 5340 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:39:25 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:39:25 - No active profile set, falling back to default profiles: default
2019-07-11 15:39:26 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@685f1ba8: startup date [Thu Jul 11 15:39:26 CST 2019]; root of context hierarchy
2019-07-11 15:39:26 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:39:27 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:39:29 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:39:29 - Starting service Tomcat
2019-07-11 15:39:29 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:39:29 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:39:29 - Root WebApplicationContext: initialization completed in 3459 ms
2019-07-11 15:39:29 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:39:29 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:39:29 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:39:29 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:39:29 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:39:31 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@685f1ba8: startup date [Thu Jul 11 15:39:26 CST 2019]; root of context hierarchy
2019-07-11 15:39:31 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:39:31 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:39:31 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:39:31 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:39:31 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:39:31 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:39:31 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:39:31 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:39:31 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:39:31 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@685f1ba8: startup date [Thu Jul 11 15:39:26 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:39:31 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:39:31 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:39:31 - LiveReload server is running on port 35729
2019-07-11 15:39:32 - Registering beans for JMX exposure on startup
2019-07-11 15:39:32 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:39:32 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:39:32 - Using a shared selector for servlet write/read
2019-07-11 15:39:32 - Tomcat started on port(s): 80 (http)
2019-07-11 15:39:32 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:39:32 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:39:32 - FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2019-07-11 15:39:32 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:39:32 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:39:33 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:39:33 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:39:33 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:39:33 - RIS API Test Result:Service帐号
2019-07-11 15:39:33 - RISAPI Test Result: Service帐号
2019-07-11 15:39:34 - ==>  Preparing: select current_date 
2019-07-11 15:39:34 - ==> Parameters: 
2019-07-11 15:39:34 - <==      Total: 1
2019-07-11 15:39:34 - DB Test Result: 2019-07-11
2019-07-11 15:39:34 - Started MainApp in 8.982 seconds (JVM running for 9.672)
2019-07-11 15:39:45 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:39:45 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:40:01 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.UnsupportedOperationException
### The error may exist in file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]
### The error may involve com.app.dao.RISDao.searchOrder
### The error occurred while handling results
### SQL: select * from hisorder.his_order where applyCode=?                  and validFlag=0
### Cause: java.lang.UnsupportedOperationException] with root cause
java.lang.UnsupportedOperationException: null
	at org.apache.ibatis.reflection.wrapper.CollectionWrapper.findProperty(CollectionWrapper.java:48)
	at org.apache.ibatis.reflection.MetaObject.findProperty(MetaObject.java:85)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createAutomaticMappings(DefaultResultSetHandler.java:473)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyAutomaticMappings(DefaultResultSetHandler.java:494)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:385)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:339)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:314)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:287)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:183)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:231)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:128)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:68)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.searchOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:78)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:41:21 - Starting MainApp on PC-workstation with PID 7980 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:41:21 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:41:21 - No active profile set, falling back to default profiles: default
2019-07-11 15:41:21 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4245c97b: startup date [Thu Jul 11 15:41:21 CST 2019]; root of context hierarchy
2019-07-11 15:41:22 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:41:23 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:41:31 - Starting MainApp on PC-workstation with PID 6228 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:41:31 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:41:31 - No active profile set, falling back to default profiles: default
2019-07-11 15:41:32 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b3e75a5: startup date [Thu Jul 11 15:41:32 CST 2019]; root of context hierarchy
2019-07-11 15:41:32 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:41:33 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:41:34 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:41:34 - Starting service Tomcat
2019-07-11 15:41:34 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:41:35 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:41:35 - Root WebApplicationContext: initialization completed in 2944 ms
2019-07-11 15:41:35 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:41:35 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:41:35 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:41:35 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:41:35 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:41:36 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b3e75a5: startup date [Thu Jul 11 15:41:32 CST 2019]; root of context hierarchy
2019-07-11 15:41:36 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:41:36 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:41:36 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:41:36 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:41:36 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:41:36 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:41:36 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:41:36 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:41:36 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:41:37 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b3e75a5: startup date [Thu Jul 11 15:41:32 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:41:37 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:41:37 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:41:37 - LiveReload server is running on port 35729
2019-07-11 15:41:37 - Registering beans for JMX exposure on startup
2019-07-11 15:41:37 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:41:37 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:41:37 - Using a shared selector for servlet write/read
2019-07-11 15:41:37 - Tomcat started on port(s): 80 (http)
2019-07-11 15:41:38 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:41:38 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:41:38 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:41:38 - RIS API Test Result:Service帐号
2019-07-11 15:41:38 - RISAPI Test Result: Service帐号
2019-07-11 15:41:38 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:41:38 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:41:38 - FrameworkServlet 'dispatcherServlet': initialization completed in 10 ms
2019-07-11 15:41:38 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:41:38 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:41:38 - ==>  Preparing: select current_date 
2019-07-11 15:41:38 - ==>  Preparing: select * from hisorder.his_order where applyCode='HISEXAM001' and validFlag=0 
2019-07-11 15:41:38 - ==> Parameters: 
2019-07-11 15:41:38 - ==> Parameters: 
2019-07-11 15:41:39 - <==      Total: 1
2019-07-11 15:41:39 - DB Test Result: 2019-07-11
2019-07-11 15:41:39 - Started MainApp in 7.488 seconds (JVM running for 7.963)
2019-07-11 15:41:39 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.UnsupportedOperationException
### The error may exist in file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]
### The error may involve com.app.dao.RISDao.searchOrder
### The error occurred while handling results
### SQL: select * from hisorder.his_order where applyCode='HISEXAM001'                  and validFlag=0
### Cause: java.lang.UnsupportedOperationException] with root cause
java.lang.UnsupportedOperationException: null
	at org.apache.ibatis.reflection.wrapper.CollectionWrapper.findProperty(CollectionWrapper.java:48)
	at org.apache.ibatis.reflection.MetaObject.findProperty(MetaObject.java:85)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createAutomaticMappings(DefaultResultSetHandler.java:473)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyAutomaticMappings(DefaultResultSetHandler.java:494)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:385)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:339)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:314)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:287)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:183)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:231)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:128)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:68)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.searchOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:78)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:43:20 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:43:20 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:43:20 - ==>  Preparing: select * from hisorder.his_order where applyCode='HISEXAM001' and validFlag=0 
2019-07-11 15:43:20 - ==> Parameters: 
2019-07-11 15:43:20 - <==      Total: 0
2019-07-11 15:43:20 - search Exist orders:0
2019-07-11 15:43:20 - inserting orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:43:20 - ==>  Preparing: insert into hisorder.his_order (applyCode,patientCode,visitNO,patientId,cardNO, patientName,brithday,sex,phone,address, authorName,authorCode,checkMethod,checkMethodCode, applyOffice,checkPart,disease,history,note,bedNO,charge, identityNO,organization,verifierTime,authorTime,executeOfficeCode, executeOffice, yibao,orderCode,createDate, createTime) values( ?,?,?,?,?, ?,?,?,?,?, ?,?,?,?, ?,?,?,?, ?,?,?, ?,?,?,?,?,?, ?,?, current_date,current_time ) 
2019-07-11 15:43:20 - ==> Parameters: HISEXAM001(String), 1(String), 2(String), DIAGID001(String), HISID001(String), 测试患者(String), 1980-01-01(String), 女(String), 11911912000(String), 北京市(String), 李医生(String), (String), 胸部正侧位(String), HISDX001(String), 外科一(String), (String), 外伤(String), (String), 输助诊断(String), (String), 209.01(String), 110101198001012430(String), AA(String), 2019:01:01(String), 20190101120010(String), 放射科(String), 放射科(String), 自费(String), 100888101281(String)
2019-07-11 15:43:20 - inserted
2019-07-11 15:43:39 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:43:39 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:43:39 - ==>  Preparing: select * from hisorder.his_order where applyCode='HISEXAM001' and validFlag=0 
2019-07-11 15:43:39 - ==> Parameters: 
2019-07-11 15:43:39 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.UnsupportedOperationException
### The error may exist in file [H:\workspace\RISOrderAdaptor\config\RISDao.xml]
### The error may involve com.app.dao.RISDao.searchOrder
### The error occurred while handling results
### SQL: select * from hisorder.his_order where applyCode='HISEXAM001'                  and validFlag=0
### Cause: java.lang.UnsupportedOperationException] with root cause
java.lang.UnsupportedOperationException: null
	at org.apache.ibatis.reflection.wrapper.CollectionWrapper.findProperty(CollectionWrapper.java:48)
	at org.apache.ibatis.reflection.MetaObject.findProperty(MetaObject.java:85)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createAutomaticMappings(DefaultResultSetHandler.java:473)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyAutomaticMappings(DefaultResultSetHandler.java:494)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:385)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:339)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:314)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:287)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:183)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434)
	at $Proxy62.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:231)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:128)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:68)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at $Proxy63.searchOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:78)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:44:16 - Starting MainApp on PC-workstation with PID 8132 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:44:16 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:44:16 - No active profile set, falling back to default profiles: default
2019-07-11 15:44:16 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e152f4: startup date [Thu Jul 11 15:44:16 CST 2019]; root of context hierarchy
2019-07-11 15:44:16 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:44:18 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:44:19 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:44:19 - Starting service Tomcat
2019-07-11 15:44:19 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:44:19 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:44:19 - Root WebApplicationContext: initialization completed in 3007 ms
2019-07-11 15:44:20 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:44:20 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:44:20 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:44:20 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:44:20 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:44:21 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e152f4: startup date [Thu Jul 11 15:44:16 CST 2019]; root of context hierarchy
2019-07-11 15:44:21 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:44:21 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:44:21 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:44:21 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:44:21 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:44:21 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:44:21 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:44:21 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:44:21 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:44:21 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e152f4: startup date [Thu Jul 11 15:44:16 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:44:21 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:44:21 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:44:22 - LiveReload server is running on port 35729
2019-07-11 15:44:22 - Registering beans for JMX exposure on startup
2019-07-11 15:44:22 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:44:22 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:44:22 - Using a shared selector for servlet write/read
2019-07-11 15:44:22 - Tomcat started on port(s): 80 (http)
2019-07-11 15:44:22 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:44:23 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:44:23 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:44:23 - RIS API Test Result:Service帐号
2019-07-11 15:44:23 - RISAPI Test Result: Service帐号
2019-07-11 15:44:23 - ==>  Preparing: select current_date 
2019-07-11 15:44:23 - ==> Parameters: 
2019-07-11 15:44:23 - <==      Total: 1
2019-07-11 15:44:23 - DB Test Result: 2019-07-11
2019-07-11 15:44:23 - Started MainApp in 7.298 seconds (JVM running for 7.778)
2019-07-11 15:44:25 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:44:25 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:44:25 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 15:44:25 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:44:25 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:44:25 - ==>  Preparing: select * from hisorder.his_order where applyCode='HISEXAM001' and validFlag=0 
2019-07-11 15:44:25 - ==> Parameters: 
2019-07-11 15:44:25 - <==      Total: 1
2019-07-11 15:44:25 - search Exist orders:1
2019-07-11 15:44:25 - updating orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:44:25 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.app.dao.RISDao.updateOrder] with root cause
org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.app.dao.RISDao.updateOrder
	at org.apache.ibatis.binding.MapperMethod$SqlCommand.<init>(MapperMethod.java:214)
	at org.apache.ibatis.binding.MapperMethod.<init>(MapperMethod.java:48)
	at org.apache.ibatis.binding.MapperProxy.cachedMapperMethod(MapperProxy.java:59)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at $Proxy63.updateOrder(Unknown Source)
	at com.app.service.RISAPIServiceImpl.saveOrUpdateOrder(RISAPIServiceImpl.java:83)
	at com.app.service.RISOrderService.createNewOrder(RISOrderService.java:45)
	at com.app.controller.MainController.createNewOrder(MainController.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 15:50:31 - Starting MainApp on PC-workstation with PID 4064 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:50:31 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:50:31 - No active profile set, falling back to default profiles: default
2019-07-11 15:50:31 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@47db9852: startup date [Thu Jul 11 15:50:31 CST 2019]; root of context hierarchy
2019-07-11 15:50:31 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:50:33 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:50:34 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:50:34 - Starting service Tomcat
2019-07-11 15:50:34 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:50:34 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:50:34 - Root WebApplicationContext: initialization completed in 3003 ms
2019-07-11 15:50:34 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:50:34 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:50:34 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:50:34 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:50:34 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:50:36 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@47db9852: startup date [Thu Jul 11 15:50:31 CST 2019]; root of context hierarchy
2019-07-11 15:50:36 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:50:36 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:50:36 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:50:36 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:50:36 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:50:36 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:50:36 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:50:36 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:50:36 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:50:36 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@47db9852: startup date [Thu Jul 11 15:50:31 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:50:36 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:50:36 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:50:37 - LiveReload server is running on port 35729
2019-07-11 15:50:37 - Registering beans for JMX exposure on startup
2019-07-11 15:50:37 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:50:37 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:50:37 - Using a shared selector for servlet write/read
2019-07-11 15:50:37 - Tomcat started on port(s): 80 (http)
2019-07-11 15:50:37 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:50:38 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:50:38 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:50:38 - RIS API Test Result:Service帐号
2019-07-11 15:50:38 - RISAPI Test Result: Service帐号
2019-07-11 15:50:38 - ==>  Preparing: select current_date 
2019-07-11 15:50:38 - ==> Parameters: 
2019-07-11 15:50:38 - <==      Total: 1
2019-07-11 15:50:38 - DB Test Result: 2019-07-11
2019-07-11 15:50:38 - Started MainApp in 7.629 seconds (JVM running for 8.115)
2019-07-11 15:50:38 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:50:38 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:50:38 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 15:50:38 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:50:38 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:50:38 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:50:38 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:50:38 - <==      Total: 1
2019-07-11 15:50:38 - search Exist orders:1
2019-07-11 15:50:38 - updating orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:50:38 - ==>  Preparing: update hisorder.his_order set applyCode=?,patientCode=?,visitNO=?,patientId=?,cardNO=?, patientName=?,brithday=?,sex=?,phone=?,address=?, authorName=?,authorCode=?,checkMethod=?,checkMethodCode=?, applyOffice=?,checkPart=?,disease=?,history=?, note=?,bedNO=?,charge=?, identityNO=?,organization=?,verifierTime=?,authorTime=?, executeOfficeCode=?, executeOffice=?, yibao=?,orderCode=? where applyCode=? and validFlag=0 
2019-07-11 15:50:38 - ==> Parameters: HISEXAM001(String), 1(String), 2(String), DIAGID001(String), HISID001(String), 测试患者(String), 1980-01-01(String), 女(String), 11911912000(String), 北京市(String), 李医生(String), (String), 胸部正侧位(String), HISDX001(String), 外科一(String), (String), 外伤(String), (String), 输助诊断(String), (String), 209.01(String), 110101198001012430(String), AA(String), 2019:01:01(String), 20190101120010(String), 放射科(String), 放射科(String), 自费(String), 100888101281(String), HISEXAM001(String)
2019-07-11 15:50:38 - <==    Updates: 1
2019-07-11 15:50:38 - updated
2019-07-11 15:58:06 - Starting MainApp on PC-workstation with PID 6900 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 15:58:06 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 15:58:06 - No active profile set, falling back to default profiles: default
2019-07-11 15:58:06 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@494eaec9: startup date [Thu Jul 11 15:58:06 CST 2019]; root of context hierarchy
2019-07-11 15:58:06 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 15:58:07 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 15:58:08 - Tomcat initialized with port(s): 80 (http)
2019-07-11 15:58:08 - Starting service Tomcat
2019-07-11 15:58:08 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 15:58:09 - Initializing Spring embedded WebApplicationContext
2019-07-11 15:58:09 - Root WebApplicationContext: initialization completed in 2971 ms
2019-07-11 15:58:09 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 15:58:09 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 15:58:09 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 15:58:09 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 15:58:09 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 15:58:11 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@494eaec9: startup date [Thu Jul 11 15:58:06 CST 2019]; root of context hierarchy
2019-07-11 15:58:11 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 15:58:11 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:58:11 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 15:58:11 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 15:58:11 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 15:58:11 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 15:58:11 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:58:11 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:58:11 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 15:58:11 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@494eaec9: startup date [Thu Jul 11 15:58:06 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 15:58:11 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 15:58:11 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 15:58:11 - LiveReload server is running on port 35729
2019-07-11 15:58:11 - Registering beans for JMX exposure on startup
2019-07-11 15:58:11 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 15:58:11 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 15:58:11 - Using a shared selector for servlet write/read
2019-07-11 15:58:11 - Tomcat started on port(s): 80 (http)
2019-07-11 15:58:12 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 15:58:12 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:58:12 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 15:58:12 - RIS API Test Result:Service帐号
2019-07-11 15:58:12 - RISAPI Test Result: Service帐号
2019-07-11 15:58:12 - ==>  Preparing: select current_date 
2019-07-11 15:58:12 - ==> Parameters: 
2019-07-11 15:58:12 - <==      Total: 1
2019-07-11 15:58:12 - DB Test Result: 2019-07-11
2019-07-11 15:58:12 - Started MainApp in 7.211 seconds (JVM running for 7.702)
2019-07-11 15:58:15 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 15:58:15 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 15:58:15 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 15:58:15 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:58:16 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:58:16 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:58:16 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:58:16 - <==      Total: 0
2019-07-11 15:58:16 - search Exist orders:0
2019-07-11 15:58:16 - inserting orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:58:16 - ==>  Preparing: insert into hisorder.his_order (applyCode,patientCode,visitNO,patientId,cardNO, patientName,brithday,sex,phone,address, authorName,authorCode,checkMethod,checkMethodCode, applyOffice,checkPart,disease,history,note,bedNO,charge, identityNO,organization,verifierTime,authorTime,executeOfficeCode, executeOffice, yibao,orderCode,createDate, createTime) values( ?,?,?,?,?, ?,?,?,?,?, ?,?,?,?, ?,?,?,?, ?,?,?, ?,?,?,?,?,?, ?,?, current_date,current_time ) 
2019-07-11 15:58:16 - ==> Parameters: HISEXAM001(String), 1(String), 2(String), DIAGID001(String), HISID001(String), 测试患者(String), 1980-01-01(String), 女(String), 11911912000(String), 北京市(String), 李医生(String), (String), 胸部正侧位(String), HISDX001(String), 外科一(String), (String), 外伤(String), (String), 输助诊断(String), (String), 209.01(String), 110101198001012430(String), AA(String), 2019:01:01(String), 20190101120010(String), 放射科(String), 放射科(String), 自费(String), 100888101281(String)
2019-07-11 15:58:16 - <==    Updates: 1
2019-07-11 15:58:16 - inserted
2019-07-11 15:58:22 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"2","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 15:58:22 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=2, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:58:22 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 15:58:22 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:58:22 - <==      Total: 1
2019-07-11 15:58:22 - search Exist orders:1
2019-07-11 15:58:22 - updating orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=2, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 15:58:22 - ==>  Preparing: update hisorder.his_order set applyCode=?,patientCode=?,visitNO=?,patientId=?,cardNO=?, patientName=?,brithday=?,sex=?,phone=?,address=?, authorName=?,authorCode=?,checkMethod=?,checkMethodCode=?, applyOffice=?,checkPart=?,disease=?,history=?, note=?,bedNO=?,charge=?, identityNO=?,organization=?,verifierTime=?,authorTime=?, executeOfficeCode=?, executeOffice=?, yibao=?,orderCode=? where applyCode=? and validFlag=0 
2019-07-11 15:58:22 - ==> Parameters: HISEXAM001(String), 2(String), 2(String), DIAGID001(String), HISID001(String), 测试患者(String), 1980-01-01(String), 女(String), 11911912000(String), 北京市(String), 李医生(String), (String), 胸部正侧位(String), HISDX001(String), 外科一(String), (String), 外伤(String), (String), 输助诊断(String), (String), 209.01(String), 110101198001012430(String), AA(String), 2019:01:01(String), 20190101120010(String), 放射科(String), 放射科(String), 自费(String), 100888101281(String), HISEXAM001(String)
2019-07-11 15:58:22 - <==    Updates: 1
2019-07-11 15:58:22 - updated
2019-07-11 15:58:42 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"2","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"CA"}]
2019-07-11 15:58:42 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=2, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=CA}
2019-07-11 15:58:42 - ==>  Preparing: update hisorder.his_order set validFlag=1 where applyCode=? and validFlag=0 
2019-07-11 15:58:42 - ==> Parameters: HISEXAM001(String)
2019-07-11 15:58:42 - <==    Updates: 1
2019-07-11 16:15:04 - Starting MainApp on PC-workstation with PID 5496 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 16:15:04 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 16:15:04 - No active profile set, falling back to default profiles: default
2019-07-11 16:15:04 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@46b29c9d: startup date [Thu Jul 11 16:15:04 CST 2019]; root of context hierarchy
2019-07-11 16:15:05 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 16:15:06 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 16:15:08 - Tomcat initialized with port(s): 80 (http)
2019-07-11 16:15:08 - Starting service Tomcat
2019-07-11 16:15:08 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 16:15:08 - Initializing Spring embedded WebApplicationContext
2019-07-11 16:15:08 - Root WebApplicationContext: initialization completed in 3557 ms
2019-07-11 16:15:08 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 16:15:08 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 16:15:08 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 16:15:08 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 16:15:08 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 16:15:10 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@46b29c9d: startup date [Thu Jul 11 16:15:04 CST 2019]; root of context hierarchy
2019-07-11 16:15:10 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 16:15:10 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 16:15:10 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 16:15:10 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 16:15:10 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 16:15:10 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 16:15:10 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 16:15:10 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 16:15:10 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 16:15:10 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@46b29c9d: startup date [Thu Jul 11 16:15:04 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 16:15:10 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 16:15:10 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 16:15:10 - LiveReload server is running on port 35729
2019-07-11 16:15:11 - Registering beans for JMX exposure on startup
2019-07-11 16:15:11 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 16:15:11 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 16:15:11 - Using a shared selector for servlet write/read
2019-07-11 16:15:11 - Tomcat started on port(s): 80 (http)
2019-07-11 16:15:11 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 16:15:12 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 16:15:12 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 16:15:12 - RIS API Test Result:Service帐号
2019-07-11 16:15:12 - RISAPI Test Result: Service帐号
2019-07-11 16:15:13 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 16:15:13 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 16:15:13 - FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
2019-07-11 16:15:13 - ==>  Preparing: select current_date 
2019-07-11 16:15:13 - ==> Parameters: 
2019-07-11 16:15:13 - <==      Total: 1
2019-07-11 16:15:13 - DB Test Result: 2019-07-11
2019-07-11 16:15:13 - Started MainApp in 8.883 seconds (JVM running for 9.522)
2019-07-11 16:15:13 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"2","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"CA"}]
2019-07-11 16:15:13 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=2, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=CA}
2019-07-11 16:15:13 - ==>  Preparing: update hisorder.his_order set validFlag=1 where applyCode=? and validFlag=0 
2019-07-11 16:15:13 - ==> Parameters: HISEXAM001(String)
2019-07-11 16:15:13 - <==    Updates: 0
2019-07-11 16:15:29 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"2","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 16:15:29 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=2, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 16:15:35 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 16:15:35 - ==> Parameters: HISEXAM001(String)
2019-07-11 16:15:35 - <==      Total: 0
2019-07-11 16:15:35 - search Exist orders:0
2019-07-11 16:15:35 - inserting orders:{HISEXAMNO=HISEXAM001, PATIENTTYPE=2, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 16:15:35 - ==>  Preparing: insert into hisorder.his_order (applyCode,patientCode,visitNO,patientId,cardNO, patientName,brithday,sex,phone,address, authorName,authorCode,checkMethod,checkMethodCode, applyOffice,checkPart,disease,history,note,bedNO,charge, identityNO,organization,verifierTime,authorTime,executeOfficeCode, executeOffice, yibao,orderCode,createDate, createTime) values( ?,?,?,?,?, ?,?,?,?,?, ?,?,?,?, ?,?,?,?, ?,?,?, ?,?,?,?,?,?, ?,?, current_date,current_time ) 
2019-07-11 16:15:35 - ==> Parameters: HISEXAM001(String), 2(String), 2(String), DIAGID001(String), HISID001(String), 测试患者(String), 1980-01-01(String), 女(String), 11911912000(String), 北京市(String), 李医生(String), (String), 胸部正侧位(String), HISDX001(String), 外科一(String), (String), 外伤(String), (String), 输助诊断(String), (String), 209.01(String), 110101198001012430(String), AA(String), 2019:01:01(String), 20190101120010(String), 放射科(String), 放射科(String), 自费(String), 100888101281(String)
2019-07-11 16:15:35 - <==    Updates: 1
2019-07-11 16:15:35 - inserted
2019-07-11 17:00:53 - Starting MainApp on PC-workstation with PID 4676 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 17:00:53 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 17:00:53 - No active profile set, falling back to default profiles: default
2019-07-11 17:00:53 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4805e9f1: startup date [Thu Jul 11 17:00:53 CST 2019]; root of context hierarchy
2019-07-11 17:00:54 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 17:00:55 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 17:00:56 - Tomcat initialized with port(s): 80 (http)
2019-07-11 17:00:56 - Starting service Tomcat
2019-07-11 17:00:56 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 17:00:57 - Initializing Spring embedded WebApplicationContext
2019-07-11 17:00:57 - Root WebApplicationContext: initialization completed in 3715 ms
2019-07-11 17:00:57 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 17:00:57 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 17:00:57 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 17:00:57 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 17:00:57 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 17:00:59 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4805e9f1: startup date [Thu Jul 11 17:00:53 CST 2019]; root of context hierarchy
2019-07-11 17:00:59 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 17:00:59 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 17:00:59 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 17:00:59 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 17:00:59 - Mapped "{[/schedule],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.schedule(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 17:00:59 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 17:00:59 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 17:00:59 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 17:00:59 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 17:00:59 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 17:00:59 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4805e9f1: startup date [Thu Jul 11 17:00:53 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 17:00:59 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 17:00:59 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 17:01:00 - LiveReload server is running on port 35729
2019-07-11 17:01:00 - Registering beans for JMX exposure on startup
2019-07-11 17:01:00 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 17:01:00 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 17:01:00 - Using a shared selector for servlet write/read
2019-07-11 17:01:00 - Tomcat started on port(s): 80 (http)
2019-07-11 17:01:00 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 17:01:01 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:01:01 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:01:01 - RIS API Test Result:Service帐号
2019-07-11 17:01:01 - RISAPI Test Result: Service帐号
2019-07-11 17:01:02 - ==>  Preparing: select current_date 
2019-07-11 17:01:02 - ==> Parameters: 
2019-07-11 17:01:02 - <==      Total: 1
2019-07-11 17:01:02 - DB Test Result: 2019-07-11
2019-07-11 17:01:02 - Started MainApp in 8.825 seconds (JVM running for 9.484)
2019-07-11 17:01:07 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 17:01:07 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 17:01:07 - FrameworkServlet 'dispatcherServlet': initialization completed in 11 ms
2019-07-11 17:01:07 - index mapping null
2019-07-11 17:01:18 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"150","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 17:01:25 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 17:01:36 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 17:01:36 - ==> Parameters: HISEXAM001(String)
2019-07-11 17:01:36 - <==      Total: 1
2019-07-11 17:01:44 - merged Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=08:59:30, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=4, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=2, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM001}
2019-07-11 17:01:50 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 17:01:50 - ==> Parameters: XR001(String), 150(String)
2019-07-11 17:01:50 - <==      Total: 1
2019-07-11 17:02:02 - filled procedure map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=08:59:30, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=4, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=2, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM001, ModalityID=150, ModalityName=XRay1, ProcedureName=头部, deptname=X-Ray室, ProcedureStepName=头颅正侧位, ProcedureStepID=166}
2019-07-11 17:02:15 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM001"/>
	<column name="e:WAIT,0046" value="2"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="o:WAIT,0266" value="100888101281"/>
	<column name="e:WAIT,0018" value="150"/>
	<column name="e:WAIT,0072" value="166"/>
	<column name="e:0040,0003" value="2019-7-9 15:20:00"/>
	<column name="e:0040,0002" value="2019-7-9 16:20:00"/>
	
</AEXMLMessage>


]
2019-07-11 17:02:41 - Creating Service {http://med.ge.com/rispacs/}RegistInfoOperationsService from class com.ge.med.rispacs.registerserver.RegistInfoOperations
2019-07-11 17:02:42 - Creating Service {http://med.ge.com/rispacs/}OrderProcessOperationsService from class com.ge.med.rispacs.registerserver.OrderProcessOperations
2019-07-11 17:02:42 - Creating Service {http://med.ge.com/rispacs/}ProcedureStepMgmtOperationsService from class com.ge.med.catcorb.procedurestep.ProcedureStepMgmtOperations
2019-07-11 17:02:43 - Creating Service {http://med.ge.com/rispacs/}ExamProcessOperationsService from class com.ge.med.rispacs.registerserver.ExamProcessOperations
2019-07-11 17:02:43 - Creating Service {http://med.ge.com/rispacs/}ModalityMgmtOperationsService from class com.ge.med.catcorb.modality.ModalityMgmtOperations
2019-07-11 17:02:44 - Creating Service {http://med.ge.com/rispacs/}ProcedureMgmtOperationsService from class com.ge.med.catcorb.procedure.ProcedureMgmtOperations
2019-07-11 17:02:56 - Outbound Message
---------------------------
ID: 2
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;2&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;166&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;2019-7-9 15:20:00&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-7-9 16:20:00&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.35</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:02:57 - Inbound Message
----------------------------
ID: 2
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[443], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>XX190711XR1001</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>6</examID><orderID>6</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:34:56 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"150","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 17:35:01 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 17:35:04 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 17:35:04 - ==> Parameters: HISEXAM001(String)
2019-07-11 17:35:04 - <==      Total: 1
2019-07-11 17:35:06 - merged Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=08:59:30, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=4, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=2, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM001}
2019-07-11 17:35:07 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 17:35:07 - ==> Parameters: XR001(String), 150(String)
2019-07-11 17:35:07 - <==      Total: 1
2019-07-11 17:35:09 - filled procedure map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=08:59:30, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=4, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=2, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM001, ModalityID=150, ModalityName=XRay1, ProcedureName=头部, deptname=X-Ray室, ProcedureStepName=头颅正侧位, ProcedureStepID=166}
2019-07-11 17:35:14 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM001"/>
	<column name="e:WAIT,0046" value="住院"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="o:WAIT,0266" value="100888101281"/>
	<column name="e:WAIT,0018" value="150"/>
	<column name="e:WAIT,0072" value="166"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 17:35:26 - Outbound Message
---------------------------
ID: 3
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;住院&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;166&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.35</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:35:26 - Inbound Message
----------------------------
ID: 3
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[443], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ZH190711XR1002</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>8</examID><orderID>6</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:36:29 - Starting MainApp on PC-workstation with PID 5020 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 17:36:29 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 17:36:29 - No active profile set, falling back to default profiles: default
2019-07-11 17:36:29 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@494eaec9: startup date [Thu Jul 11 17:36:29 CST 2019]; root of context hierarchy
2019-07-11 17:36:29 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 17:36:30 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 17:36:31 - Tomcat initialized with port(s): 80 (http)
2019-07-11 17:36:31 - Starting service Tomcat
2019-07-11 17:36:31 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 17:36:32 - Initializing Spring embedded WebApplicationContext
2019-07-11 17:36:32 - Root WebApplicationContext: initialization completed in 2910 ms
2019-07-11 17:36:32 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 17:36:32 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 17:36:32 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 17:36:32 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 17:36:32 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 17:36:34 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@494eaec9: startup date [Thu Jul 11 17:36:29 CST 2019]; root of context hierarchy
2019-07-11 17:36:34 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 17:36:34 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 17:36:34 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 17:36:34 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 17:36:34 - Mapped "{[/schedule],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.schedule(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 17:36:34 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 17:36:34 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 17:36:34 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 17:36:34 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 17:36:34 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 17:36:34 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@494eaec9: startup date [Thu Jul 11 17:36:29 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 17:36:34 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 17:36:34 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 17:36:34 - LiveReload server is running on port 35729
2019-07-11 17:36:34 - Registering beans for JMX exposure on startup
2019-07-11 17:36:34 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 17:36:34 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 17:36:34 - Using a shared selector for servlet write/read
2019-07-11 17:36:34 - Tomcat started on port(s): 80 (http)
2019-07-11 17:36:35 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 17:36:35 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:36:35 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 03:52:25.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:36:35 - RIS API Test Result:Service帐号
2019-07-11 17:36:35 - RISAPI Test Result: Service帐号
2019-07-11 17:36:36 - ==>  Preparing: select current_date 
2019-07-11 17:36:36 - ==> Parameters: 
2019-07-11 17:36:36 - <==      Total: 1
2019-07-11 17:36:36 - DB Test Result: 2019-07-11
2019-07-11 17:36:36 - Started MainApp in 7.488 seconds (JVM running for 7.986)
2019-07-11 17:36:46 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 17:36:46 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 17:36:46 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 17:36:46 - received new order:[{"HISEXAMNO":"HISEXAM001","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"150","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 17:36:46 - convert to Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 17:36:46 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 17:36:46 - ==> Parameters: HISEXAM001(String)
2019-07-11 17:36:46 - <==      Total: 1
2019-07-11 17:36:46 - merged Map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=08:59:30, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=4, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=2, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM001}
2019-07-11 17:36:46 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 17:36:46 - ==> Parameters: XR001(String), 150(String)
2019-07-11 17:36:46 - <==      Total: 1
2019-07-11 17:36:46 - filled procedure map:{HISEXAMNO=HISEXAM001, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=08:59:30, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=4, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=2, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM001, ModalityID=150, ModalityName=XRay1, ProcedureName=头部, deptname=X-Ray室, ProcedureStepName=头颅正侧位, ProcedureStepID=166}
2019-07-11 17:36:46 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM001"/>
	<column name="e:WAIT,0046" value="住院"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="o:WAIT,0266" value="100888101281"/>
	<column name="e:WAIT,0018" value="150"/>
	<column name="e:WAIT,0072" value="166"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 17:36:46 - Creating Service {http://med.ge.com/rispacs/}RegistInfoOperationsService from class com.ge.med.rispacs.registerserver.RegistInfoOperations
2019-07-11 17:36:46 - Creating Service {http://med.ge.com/rispacs/}OrderProcessOperationsService from class com.ge.med.rispacs.registerserver.OrderProcessOperations
2019-07-11 17:36:47 - Creating Service {http://med.ge.com/rispacs/}ProcedureStepMgmtOperationsService from class com.ge.med.catcorb.procedurestep.ProcedureStepMgmtOperations
2019-07-11 17:36:47 - Creating Service {http://med.ge.com/rispacs/}ExamProcessOperationsService from class com.ge.med.rispacs.registerserver.ExamProcessOperations
2019-07-11 17:36:47 - Creating Service {http://med.ge.com/rispacs/}ModalityMgmtOperationsService from class com.ge.med.catcorb.modality.ModalityMgmtOperations
2019-07-11 17:36:47 - Creating Service {http://med.ge.com/rispacs/}ProcedureMgmtOperationsService from class com.ge.med.catcorb.procedure.ProcedureMgmtOperations
2019-07-11 17:36:47 - Outbound Message
---------------------------
ID: 2
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;住院&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;166&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:36:47 - Inbound Message
----------------------------
ID: 2
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[443], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ZH190711XR1003</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>9</examID><orderID>6</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:40:08 - received new order:[{"HISEXAMNO":"HISEXAM002","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"150","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 17:40:08 - convert to Map:{HISEXAMNO=HISEXAM002, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 17:40:08 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 17:40:08 - ==> Parameters: HISEXAM002(String)
2019-07-11 17:40:08 - <==      Total: 0
2019-07-11 17:40:22 - received new order:[{"HISEXAMNO":"HISEXAM002","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 17:40:22 - convert to Map:{HISEXAMNO=HISEXAM002, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 17:40:22 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 17:40:22 - ==> Parameters: HISEXAM002(String)
2019-07-11 17:40:22 - <==      Total: 0
2019-07-11 17:40:22 - search Exist orders:0
2019-07-11 17:40:22 - inserting orders:{HISEXAMNO=HISEXAM002, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 17:40:22 - ==>  Preparing: insert into hisorder.his_order (applyCode,patientCode,visitNO,patientId,cardNO, patientName,brithday,sex,phone,address, authorName,authorCode,checkMethod,checkMethodCode, applyOffice,checkPart,disease,history,note,bedNO,charge, identityNO,organization,verifierTime,authorTime,executeOfficeCode, executeOffice, yibao,orderCode,createDate, createTime) values( ?,?,?,?,?, ?,?,?,?,?, ?,?,?,?, ?,?,?,?, ?,?,?, ?,?,?,?,?,?, ?,?, current_date,current_time ) 
2019-07-11 17:40:22 - ==> Parameters: HISEXAM002(String), 1(String), 2(String), DIAGID001(String), HISID001(String), 测试患者(String), 1980-01-01(String), 女(String), 11911912000(String), 北京市(String), 李医生(String), (String), 胸部正侧位(String), HISDX001(String), 外科一(String), (String), 外伤(String), (String), 输助诊断(String), (String), 209.01(String), 110101198001012430(String), AA(String), 2019:01:01(String), 20190101120010(String), 放射科(String), 放射科(String), 自费(String), 100888101281(String)
2019-07-11 17:40:22 - <==    Updates: 1
2019-07-11 17:40:22 - inserted
2019-07-11 17:40:26 - received new order:[{"HISEXAMNO":"HISEXAM002","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"150","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 17:40:26 - convert to Map:{HISEXAMNO=HISEXAM002, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 17:40:26 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 17:40:26 - ==> Parameters: HISEXAM002(String)
2019-07-11 17:40:26 - <==      Total: 1
2019-07-11 17:40:26 - merged Map:{HISEXAMNO=HISEXAM002, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:24:16, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=5, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM002}
2019-07-11 17:40:26 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 17:40:26 - ==> Parameters: XR001(String), 150(String)
2019-07-11 17:40:26 - <==      Total: 1
2019-07-11 17:40:26 - filled procedure map:{HISEXAMNO=HISEXAM002, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:24:16, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=5, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM002, ModalityID=150, ModalityName=XRay1, ProcedureName=头部, deptname=X-Ray室, ProcedureStepName=头颅正侧位, ProcedureStepID=166}
2019-07-11 17:40:26 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM002"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="o:WAIT,0266" value="100888101281"/>
	<column name="e:WAIT,0018" value="150"/>
	<column name="e:WAIT,0072" value="166"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 17:40:26 - Outbound Message
---------------------------
ID: 3
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM002&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;166&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:40:26 - Inbound Message
----------------------------
ID: 3
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[444], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711XR1004</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>10</examID><orderID>6</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:42:17 - received new order:[{"HISEXAMNO":"HISEXAM002","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"150","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 17:42:17 - convert to Map:{HISEXAMNO=HISEXAM002, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 17:42:17 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 17:42:17 - ==> Parameters: HISEXAM002(String)
2019-07-11 17:42:17 - <==      Total: 1
2019-07-11 17:42:17 - merged Map:{HISEXAMNO=HISEXAM002, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:24:16, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=5, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM002}
2019-07-11 17:42:17 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 17:42:17 - ==> Parameters: XR001(String), 150(String)
2019-07-11 17:42:17 - <==      Total: 1
2019-07-11 17:42:17 - filled procedure map:{HISEXAMNO=HISEXAM002, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=150, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:24:16, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=5, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM002, ModalityID=150, ModalityName=XRay1, ProcedureName=头部, deptname=X-Ray室, ProcedureStepName=头颅正侧位, ProcedureStepID=166}
2019-07-11 17:42:18 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM002"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM002"/>
	<column name="e:WAIT,0018" value="150"/>
	<column name="e:WAIT,0072" value="166"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 17:42:18 - Outbound Message
---------------------------
ID: 4
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM002&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM002&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;166&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:42:18 - Inbound Message
----------------------------
ID: 4
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[444], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711XR1005</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>11</examID><orderID>8</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:51:27 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 17:51:27 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 17:51:27 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 17:51:27 - ==> Parameters: HISEXAM003(String)
2019-07-11 17:51:27 - <==      Total: 0
2019-07-11 17:51:27 - search Exist orders:0
2019-07-11 17:51:27 - inserting orders:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 17:51:27 - ==>  Preparing: insert into hisorder.his_order (applyCode,patientCode,visitNO,patientId,cardNO, patientName,brithday,sex,phone,address, authorName,authorCode,checkMethod,checkMethodCode, applyOffice,checkPart,disease,history,note,bedNO,charge, identityNO,organization,verifierTime,authorTime,executeOfficeCode, executeOffice, yibao,orderCode,createDate, createTime) values( ?,?,?,?,?, ?,?,?,?,?, ?,?,?,?, ?,?,?,?, ?,?,?, ?,?,?,?,?,?, ?,?, current_date,current_time ) 
2019-07-11 17:51:27 - ==> Parameters: HISEXAM003(String), 1(String), 2(String), DIAGID001(String), HISID001(String), 测试患者(String), 1980-01-01(String), 女(String), 11911912000(String), 北京市(String), 李医生(String), (String), 胸部正侧位(String), HISDX001(String), 外科一(String), (String), 外伤(String), (String), 输助诊断(String), (String), 209.01(String), 110101198001012430(String), AA(String), 2019:01:01(String), 20190101120010(String), 放射科(String), 放射科(String), 自费(String), 100888101281(String)
2019-07-11 17:51:27 - <==    Updates: 1
2019-07-11 17:51:27 - inserted
2019-07-11 17:51:46 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 17:51:46 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 17:51:46 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 17:51:46 - ==> Parameters: HISEXAM003(String)
2019-07-11 17:51:46 - <==      Total: 1
2019-07-11 17:51:46 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 17:51:46 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 17:51:46 - ==> Parameters: XR001(String), 148(String)
2019-07-11 17:51:46 - <==      Total: 1
2019-07-11 17:51:46 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 17:51:46 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 17:51:46 - Outbound Message
---------------------------
ID: 5
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 17:51:46 - Inbound Message
----------------------------
ID: 5
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[444], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1002</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>12</examID><orderID>9</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:16:40 - Starting MainApp on PC-workstation with PID 3936 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 18:16:40 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 18:16:40 - No active profile set, falling back to default profiles: default
2019-07-11 18:16:40 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@319da967: startup date [Thu Jul 11 18:16:40 CST 2019]; root of context hierarchy
2019-07-11 18:16:41 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 18:16:42 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 18:16:43 - Tomcat initialized with port(s): 80 (http)
2019-07-11 18:16:43 - Starting service Tomcat
2019-07-11 18:16:43 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 18:16:43 - Initializing Spring embedded WebApplicationContext
2019-07-11 18:16:43 - Root WebApplicationContext: initialization completed in 2833 ms
2019-07-11 18:16:43 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 18:16:43 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 18:16:43 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 18:16:43 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 18:16:43 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 18:16:45 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@319da967: startup date [Thu Jul 11 18:16:40 CST 2019]; root of context hierarchy
2019-07-11 18:16:46 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 18:16:46 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:16:46 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:16:46 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:16:46 - Mapped "{[/schedule],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.schedule(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:16:46 - Mapped "{[/arrive],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.arrive(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:16:46 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 18:16:46 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 18:16:46 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:16:46 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:16:46 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:16:46 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@319da967: startup date [Thu Jul 11 18:16:40 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 18:16:46 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 18:16:46 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 18:16:46 - LiveReload server is running on port 35729
2019-07-11 18:16:46 - Registering beans for JMX exposure on startup
2019-07-11 18:16:46 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 18:16:46 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 18:16:46 - Using a shared selector for servlet write/read
2019-07-11 18:16:46 - Tomcat started on port(s): 80 (http)
2019-07-11 18:16:47 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 18:16:47 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:16:47 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 10:22:33.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:16:47 - RIS API Test Result:Service帐号
2019-07-11 18:16:47 - RISAPI Test Result: Service帐号
2019-07-11 18:16:47 - ==>  Preparing: select current_date 
2019-07-11 18:16:47 - ==> Parameters: 
2019-07-11 18:16:47 - <==      Total: 1
2019-07-11 18:16:47 - DB Test Result: 2019-07-11
2019-07-11 18:16:47 - Started MainApp in 7.606 seconds (JVM running for 8.109)
2019-07-11 18:16:52 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 18:16:52 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 18:16:52 - FrameworkServlet 'dispatcherServlet': initialization completed in 10 ms
2019-07-11 18:16:52 - index mapping null
2019-07-11 18:17:17 - received new order:[{"AccessionNumber":"","ExamID":"12","FLAG":"NW"}]
2019-07-11 18:17:17 - convert to Map:{AccessionNumber=, ExamID=12, FLAG=NW}
2019-07-11 18:17:17 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at com.app.service.RISAPIServiceImpl.arriveOrder(RISAPIServiceImpl.java:119)
	at com.app.service.RISOrderService.arriveOrder(RISOrderService.java:146)
	at com.app.controller.MainController.arrive(MainController.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:619)
2019-07-11 18:18:01 - Starting MainApp on PC-workstation with PID 6988 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 18:18:01 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 18:18:01 - No active profile set, falling back to default profiles: default
2019-07-11 18:18:01 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@769aba32: startup date [Thu Jul 11 18:18:01 CST 2019]; root of context hierarchy
2019-07-11 18:18:01 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 18:18:02 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 18:18:03 - Tomcat initialized with port(s): 80 (http)
2019-07-11 18:18:03 - Starting service Tomcat
2019-07-11 18:18:03 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 18:18:04 - Initializing Spring embedded WebApplicationContext
2019-07-11 18:18:04 - Root WebApplicationContext: initialization completed in 2903 ms
2019-07-11 18:18:04 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 18:18:04 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 18:18:04 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 18:18:04 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 18:18:04 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 18:18:06 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@769aba32: startup date [Thu Jul 11 18:18:01 CST 2019]; root of context hierarchy
2019-07-11 18:18:06 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 18:18:06 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:18:06 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:18:06 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:18:06 - Mapped "{[/schedule],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.schedule(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:18:06 - Mapped "{[/arrive],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.arrive(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:18:06 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 18:18:06 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 18:18:06 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:18:06 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:18:06 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:18:06 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@769aba32: startup date [Thu Jul 11 18:18:01 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 18:18:06 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 18:18:06 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 18:18:06 - LiveReload server is running on port 35729
2019-07-11 18:18:07 - Registering beans for JMX exposure on startup
2019-07-11 18:18:07 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 18:18:07 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 18:18:07 - Using a shared selector for servlet write/read
2019-07-11 18:18:07 - Tomcat started on port(s): 80 (http)
2019-07-11 18:18:07 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 18:18:08 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:18:08 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 10:22:33.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:18:08 - RIS API Test Result:Service帐号
2019-07-11 18:18:08 - RISAPI Test Result: Service帐号
2019-07-11 18:18:08 - ==>  Preparing: select current_date 
2019-07-11 18:18:08 - ==> Parameters: 
2019-07-11 18:18:08 - <==      Total: 1
2019-07-11 18:18:08 - DB Test Result: 2019-07-11
2019-07-11 18:18:08 - Started MainApp in 7.692 seconds (JVM running for 8.173)
2019-07-11 18:18:10 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 18:18:10 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 18:18:10 - FrameworkServlet 'dispatcherServlet': initialization completed in 9 ms
2019-07-11 18:18:10 - received new order:[{"AccessionNumber":"","ExamID":"12","FLAG":"NW"}]
2019-07-11 18:18:10 - convert to Map:{AccessionNumber=, ExamID=12, FLAG=NW}
2019-07-11 18:18:10 - Creating Service {http://med.ge.com/rispacs/}RegistInfoOperationsService from class com.ge.med.rispacs.registerserver.RegistInfoOperations
2019-07-11 18:18:10 - Creating Service {http://med.ge.com/rispacs/}OrderProcessOperationsService from class com.ge.med.rispacs.registerserver.OrderProcessOperations
2019-07-11 18:18:10 - Creating Service {http://med.ge.com/rispacs/}ProcedureStepMgmtOperationsService from class com.ge.med.catcorb.procedurestep.ProcedureStepMgmtOperations
2019-07-11 18:18:10 - Creating Service {http://med.ge.com/rispacs/}ExamProcessOperationsService from class com.ge.med.rispacs.registerserver.ExamProcessOperations
2019-07-11 18:18:10 - Creating Service {http://med.ge.com/rispacs/}ModalityMgmtOperationsService from class com.ge.med.catcorb.modality.ModalityMgmtOperations
2019-07-11 18:18:10 - Creating Service {http://med.ge.com/rispacs/}ProcedureMgmtOperationsService from class com.ge.med.catcorb.procedure.ProcedureMgmtOperations
2019-07-11 18:18:10 - Outbound Message
---------------------------
ID: 2
Address: http://192.168.1.25:9000/services/ExamProcessService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/ExamProcessService/CancelSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:ExamID xmlns:ns2="http://med.ge.com/rispacs/">12</ns2:ExamID><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:18:10 - Inbound Message
----------------------------
ID: 2
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[207], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:CancelScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/">true</ns2:CancelScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:22:29 - received new order:[{"AccessionNumber":"","ExamID":"12","FLAG":"NW"}]
2019-07-11 18:22:29 - convert to Map:{AccessionNumber=, ExamID=12, FLAG=NW}
2019-07-11 18:22:29 - Outbound Message
---------------------------
ID: 3
Address: http://192.168.1.25:9000/services/ExamProcessService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/ExamProcessService/CancelSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:ExamID xmlns:ns2="http://med.ge.com/rispacs/">12</ns2:ExamID><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:22:29 - Inbound Message
----------------------------
ID: 3
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[207], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:CancelScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/">true</ns2:CancelScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:22:44 - Starting MainApp on PC-workstation with PID 8024 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 18:22:44 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 18:22:44 - No active profile set, falling back to default profiles: default
2019-07-11 18:22:44 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4c6504bc: startup date [Thu Jul 11 18:22:44 CST 2019]; root of context hierarchy
2019-07-11 18:22:44 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 18:22:46 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 18:22:47 - Tomcat initialized with port(s): 80 (http)
2019-07-11 18:22:47 - Starting service Tomcat
2019-07-11 18:22:47 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 18:22:47 - Initializing Spring embedded WebApplicationContext
2019-07-11 18:22:47 - Root WebApplicationContext: initialization completed in 3072 ms
2019-07-11 18:22:47 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 18:22:47 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 18:22:47 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 18:22:47 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 18:22:47 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 18:22:49 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4c6504bc: startup date [Thu Jul 11 18:22:44 CST 2019]; root of context hierarchy
2019-07-11 18:22:49 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 18:22:49 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:22:49 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:22:49 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:22:49 - Mapped "{[/schedule],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.schedule(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:22:49 - Mapped "{[/arrive],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.arrive(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:22:49 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 18:22:49 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 18:22:49 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:22:49 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:22:49 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:22:49 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4c6504bc: startup date [Thu Jul 11 18:22:44 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 18:22:49 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 18:22:49 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 18:22:49 - LiveReload server is running on port 35729
2019-07-11 18:22:50 - Registering beans for JMX exposure on startup
2019-07-11 18:22:50 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 18:22:50 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 18:22:50 - Using a shared selector for servlet write/read
2019-07-11 18:22:50 - Tomcat started on port(s): 80 (http)
2019-07-11 18:22:50 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 18:22:51 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:22:51 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 10:22:33.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:22:51 - RIS API Test Result:Service帐号
2019-07-11 18:22:51 - RISAPI Test Result: Service帐号
2019-07-11 18:22:51 - ==>  Preparing: select current_date 
2019-07-11 18:22:51 - ==> Parameters: 
2019-07-11 18:22:51 - <==      Total: 1
2019-07-11 18:22:51 - DB Test Result: 2019-07-11
2019-07-11 18:22:51 - Started MainApp in 7.724 seconds (JVM running for 8.21)
2019-07-11 18:22:55 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 18:22:55 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 18:22:55 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 18:22:55 - received new order:[{"AccessionNumber":"","ExamID":"12","FLAG":"NW"}]
2019-07-11 18:22:55 - convert to Map:{AccessionNumber=, ExamID=12, FLAG=NW}
2019-07-11 18:22:55 - Creating Service {http://med.ge.com/rispacs/}RegistInfoOperationsService from class com.ge.med.rispacs.registerserver.RegistInfoOperations
2019-07-11 18:22:55 - Creating Service {http://med.ge.com/rispacs/}OrderProcessOperationsService from class com.ge.med.rispacs.registerserver.OrderProcessOperations
2019-07-11 18:22:55 - Creating Service {http://med.ge.com/rispacs/}ProcedureStepMgmtOperationsService from class com.ge.med.catcorb.procedurestep.ProcedureStepMgmtOperations
2019-07-11 18:22:55 - Creating Service {http://med.ge.com/rispacs/}ExamProcessOperationsService from class com.ge.med.rispacs.registerserver.ExamProcessOperations
2019-07-11 18:22:55 - Creating Service {http://med.ge.com/rispacs/}ModalityMgmtOperationsService from class com.ge.med.catcorb.modality.ModalityMgmtOperations
2019-07-11 18:22:55 - Creating Service {http://med.ge.com/rispacs/}ProcedureMgmtOperationsService from class com.ge.med.catcorb.procedure.ProcedureMgmtOperations
2019-07-11 18:22:55 - Outbound Message
---------------------------
ID: 2
Address: http://192.168.1.25:9000/services/ExamProcessService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/ExamProcessService/Arrival"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:ExamID xmlns:ns2="http://med.ge.com/rispacs/">12</ns2:ExamID><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:22:55 - Inbound Message
----------------------------
ID: 2
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[193], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:ArrivalResponse xmlns:ns2="http://med.ge.com/rispacs/">true</ns2:ArrivalResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:23:14 - received new order:[{"AccessionNumber":"","ExamID":"12","FLAG":"CA"}]
2019-07-11 18:23:14 - convert to Map:{AccessionNumber=, ExamID=12, FLAG=CA}
2019-07-11 18:23:14 - Outbound Message
---------------------------
ID: 3
Address: http://192.168.1.25:9000/services/ExamProcessService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/ExamProcessService/CancelSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:ExamID xmlns:ns2="http://med.ge.com/rispacs/">12</ns2:ExamID><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:23:14 - Inbound Message
----------------------------
ID: 3
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[207], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:CancelScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/">true</ns2:CancelScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:24:14 - received new order:[{"AccessionNumber":"","ExamID":"11","FLAG":"CA"}]
2019-07-11 18:24:14 - convert to Map:{AccessionNumber=, ExamID=11, FLAG=CA}
2019-07-11 18:24:14 - Outbound Message
---------------------------
ID: 4
Address: http://192.168.1.25:9000/services/ExamProcessService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/ExamProcessService/CancelSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:ExamID xmlns:ns2="http://med.ge.com/rispacs/">11</ns2:ExamID><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:24:14 - Inbound Message
----------------------------
ID: 4
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[207], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:CancelScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/">true</ns2:CancelScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:25:48 - Starting MainApp on PC-workstation with PID 7268 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 18:25:48 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 18:25:48 - No active profile set, falling back to default profiles: default
2019-07-11 18:25:48 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@c569c60: startup date [Thu Jul 11 18:25:48 CST 2019]; root of context hierarchy
2019-07-11 18:25:48 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 18:25:49 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 18:25:51 - Tomcat initialized with port(s): 80 (http)
2019-07-11 18:25:51 - Starting service Tomcat
2019-07-11 18:25:51 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 18:25:51 - Initializing Spring embedded WebApplicationContext
2019-07-11 18:25:51 - Root WebApplicationContext: initialization completed in 2939 ms
2019-07-11 18:25:51 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 18:25:51 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 18:25:51 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 18:25:51 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 18:25:51 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 18:25:53 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@c569c60: startup date [Thu Jul 11 18:25:48 CST 2019]; root of context hierarchy
2019-07-11 18:25:53 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 18:25:53 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:25:53 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:25:53 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:25:53 - Mapped "{[/schedule],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.schedule(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:25:53 - Mapped "{[/arrive],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.arrive(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:25:53 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 18:25:53 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 18:25:53 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:25:53 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:25:53 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:25:53 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@c569c60: startup date [Thu Jul 11 18:25:48 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 18:25:53 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 18:25:53 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 18:25:53 - LiveReload server is running on port 35729
2019-07-11 18:25:53 - Registering beans for JMX exposure on startup
2019-07-11 18:25:53 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 18:25:53 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 18:25:53 - Using a shared selector for servlet write/read
2019-07-11 18:25:54 - Tomcat started on port(s): 80 (http)
2019-07-11 18:25:54 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 18:25:55 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:25:55 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 10:22:33.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:25:55 - RIS API Test Result:Service帐号
2019-07-11 18:25:55 - RISAPI Test Result: Service帐号
2019-07-11 18:25:55 - ==>  Preparing: select current_date 
2019-07-11 18:25:55 - ==> Parameters: 
2019-07-11 18:25:55 - <==      Total: 1
2019-07-11 18:25:55 - DB Test Result: 2019-07-11
2019-07-11 18:25:55 - Started MainApp in 7.575 seconds (JVM running for 8.065)
2019-07-11 18:26:29 - Starting MainApp on PC-workstation with PID 4272 (H:\workspace\RISOrderAdaptor\bin started by lihaijiang in H:\workspace\RISOrderAdaptor)
2019-07-11 18:26:29 - Running with Spring Boot v1.4.7.RELEASE, Spring v4.3.9.RELEASE
2019-07-11 18:26:29 - No active profile set, falling back to default profiles: default
2019-07-11 18:26:29 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7461373f: startup date [Thu Jul 11 18:26:29 CST 2019]; root of context hierarchy
2019-07-11 18:26:29 - HV000001: Hibernate Validator 5.2.5.Final
2019-07-11 18:26:30 - Loading XML bean definitions from class path resource [beans.xml]
2019-07-11 18:26:31 - Tomcat initialized with port(s): 80 (http)
2019-07-11 18:26:31 - Starting service Tomcat
2019-07-11 18:26:31 - Starting Servlet Engine: Apache Tomcat/7.0.59
2019-07-11 18:26:32 - Initializing Spring embedded WebApplicationContext
2019-07-11 18:26:32 - Root WebApplicationContext: initialization completed in 2977 ms
2019-07-11 18:26:32 - Mapping servlet: 'dispatcherServlet' to [/]
2019-07-11 18:26:32 - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-11 18:26:32 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-11 18:26:32 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-11 18:26:32 - Mapping filter: 'requestContextFilter' to: [/*]
2019-07-11 18:26:34 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7461373f: startup date [Thu Jul 11 18:26:29 CST 2019]; root of context hierarchy
2019-07-11 18:26:34 - Mapped "{[/],methods=[GET]}" onto public java.lang.String com.app.controller.MainController.index()
2019-07-11 18:26:34 - Mapped "{[/index]}" onto public java.lang.String com.app.controller.MainController.index(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:26:34 - Mapped "{[/test]}" onto public java.lang.String com.app.controller.MainController.test(javax.servlet.http.HttpServletRequest,org.springframework.ui.Model)
2019-07-11 18:26:34 - Mapped "{[/createNewOrder],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.createNewOrder(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:26:34 - Mapped "{[/schedule],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.schedule(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:26:34 - Mapped "{[/arrive],methods=[POST]}" onto public java.lang.String com.app.controller.MainController.arrive(javax.servlet.http.HttpServletRequest,java.lang.String)
2019-07-11 18:26:34 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-11 18:26:34 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-11 18:26:34 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:26:34 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:26:34 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-11 18:26:34 - SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7461373f: startup date [Thu Jul 11 18:26:29 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-11 18:26:34 - ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-11 18:26:34 - Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-11 18:26:34 - LiveReload server is running on port 35729
2019-07-11 18:26:34 - Registering beans for JMX exposure on startup
2019-07-11 18:26:34 - Initializing ProtocolHandler ["http-nio-80"]
2019-07-11 18:26:34 - Starting ProtocolHandler ["http-nio-80"]
2019-07-11 18:26:34 - Using a shared selector for servlet write/read
2019-07-11 18:26:34 - Tomcat started on port(s): 80 (http)
2019-07-11 18:26:35 - Creating Service {http://med.ge.com/rispacs/}UserMgmtOperationsService from class com.ge.med.catcorb.privilege.user.UserMgmtOperations
2019-07-11 18:26:35 - Outbound Message
---------------------------
ID: 1
Address: http://192.168.1.25:9000/services/UserMgmtService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/UserMgmtService/GetUserInfoByUserLoginName"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:UserLoginName xmlns:ns2="http://med.ge.com/rispacs/">itpschina</ns2:UserLoginName></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:26:35 - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[439], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:GetUserInfoByUserLoginNameResponse xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><userName>Service帐号</userName><userPasswd></userPasswd><userLogName>itpschina</userLogName><status>active</status><latestLogonDate>2019-07-11 10:22:33.0</latestLogonDate><pyAbbr></pyAbbr></ns2:GetUserInfoByUserLoginNameResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:26:35 - RIS API Test Result:Service帐号
2019-07-11 18:26:35 - RISAPI Test Result: Service帐号
2019-07-11 18:26:36 - ==>  Preparing: select current_date 
2019-07-11 18:26:36 - ==> Parameters: 
2019-07-11 18:26:36 - <==      Total: 1
2019-07-11 18:26:36 - DB Test Result: 2019-07-11
2019-07-11 18:26:36 - Started MainApp in 7.493 seconds (JVM running for 7.999)
2019-07-11 18:26:41 - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-11 18:26:41 - FrameworkServlet 'dispatcherServlet': initialization started
2019-07-11 18:26:41 - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
2019-07-11 18:26:43 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 18:26:43 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 18:26:43 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:26:43 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:26:43 - <==      Total: 1
2019-07-11 18:26:43 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 18:26:43 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname,m.ModalityLocation FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 18:26:43 - ==> Parameters: XR001(String), 148(String)
2019-07-11 18:26:43 - <==      Total: 1
2019-07-11 18:26:43 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ModalityLocation=CT, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 18:26:44 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0267" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 18:26:44 - Creating Service {http://med.ge.com/rispacs/}RegistInfoOperationsService from class com.ge.med.rispacs.registerserver.RegistInfoOperations
2019-07-11 18:26:44 - Creating Service {http://med.ge.com/rispacs/}OrderProcessOperationsService from class com.ge.med.rispacs.registerserver.OrderProcessOperations
2019-07-11 18:26:44 - Creating Service {http://med.ge.com/rispacs/}ProcedureStepMgmtOperationsService from class com.ge.med.catcorb.procedurestep.ProcedureStepMgmtOperations
2019-07-11 18:26:44 - Creating Service {http://med.ge.com/rispacs/}ExamProcessOperationsService from class com.ge.med.rispacs.registerserver.ExamProcessOperations
2019-07-11 18:26:44 - Creating Service {http://med.ge.com/rispacs/}ModalityMgmtOperationsService from class com.ge.med.catcorb.modality.ModalityMgmtOperations
2019-07-11 18:26:44 - Creating Service {http://med.ge.com/rispacs/}ProcedureMgmtOperationsService from class com.ge.med.catcorb.procedure.ProcedureMgmtOperations
2019-07-11 18:26:44 - Outbound Message
---------------------------
ID: 2
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0267&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:26:44 - Inbound Message
----------------------------
ID: 2
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[444], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1003</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>13</examID><orderID>9</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:26:59 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 18:26:59 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 18:26:59 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:26:59 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:26:59 - <==      Total: 1
2019-07-11 18:26:59 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 18:26:59 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname,m.ModalityLocation FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 18:26:59 - ==> Parameters: XR001(String), 148(String)
2019-07-11 18:26:59 - <==      Total: 1
2019-07-11 18:26:59 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ModalityLocation=CT, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 18:26:59 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0267" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 18:26:59 - Outbound Message
---------------------------
ID: 3
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0267&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:26:59 - Inbound Message
----------------------------
ID: 3
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[444], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1003</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>13</examID><orderID>9</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:27:20 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 18:27:20 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 18:27:20 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:27:20 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:27:20 - <==      Total: 1
2019-07-11 18:27:20 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 18:27:20 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname,m.ModalityLocation FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 18:27:20 - ==> Parameters: XR001(String), 148(String)
2019-07-11 18:27:20 - <==      Total: 1
2019-07-11 18:27:20 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ModalityLocation=CT, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 18:27:20 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0267" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 18:27:20 - Outbound Message
---------------------------
ID: 4
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0267&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:27:21 - Inbound Message
----------------------------
ID: 4
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[444], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1004</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>14</examID><orderID>9</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:27:42 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 18:27:42 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 18:27:42 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:27:42 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:27:42 - <==      Total: 1
2019-07-11 18:27:42 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 18:27:42 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname,m.ModalityLocation FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 18:27:42 - ==> Parameters: XR001(String), 148(String)
2019-07-11 18:27:42 - <==      Total: 1
2019-07-11 18:27:42 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ModalityLocation=CT, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 18:27:42 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0267" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 18:27:42 - Outbound Message
---------------------------
ID: 5
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0267&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:27:42 - Inbound Message
----------------------------
ID: 5
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[444], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1004</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>14</examID><orderID>9</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:28:03 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 18:28:03 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 18:28:03 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:28:03 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:28:03 - <==      Total: 1
2019-07-11 18:28:03 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 18:28:03 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname,m.ModalityLocation FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 18:28:03 - ==> Parameters: XR001(String), 148(String)
2019-07-11 18:28:03 - <==      Total: 1
2019-07-11 18:28:03 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ModalityLocation=CT, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 18:28:03 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0267" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 18:28:03 - Outbound Message
---------------------------
ID: 6
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0267&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:28:03 - Inbound Message
----------------------------
ID: 6
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[444], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1005</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>15</examID><orderID>9</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:29:34 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 18:29:34 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 18:29:34 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:29:34 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:29:34 - <==      Total: 1
2019-07-11 18:29:34 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 18:29:34 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname,m.ModalityLocation FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 18:29:34 - ==> Parameters: XR001(String), 148(String)
2019-07-11 18:29:34 - <==      Total: 1
2019-07-11 18:29:34 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ModalityLocation=CT, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 18:29:34 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0267" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 18:29:34 - Outbound Message
---------------------------
ID: 7
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0267&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:29:34 - Inbound Message
----------------------------
ID: 7
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[444], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1005</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>15</examID><orderID>9</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:31:43 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","BIRTHDATE":"1980-01-01","SEX":"女","LODGEDOCTOR":"李医生","LODGEDOCTORCODE":"","CHECKITEM":"胸部正侧位","LODGESECTION":"外科一","CHECKPART":"","CLINICALDIAGNOSIS":"外伤","CLINICALSIGN":"","CHECKAIM":"输助诊断","BEDNO":"","MONEY":"209.01","TELEPHONE":"11911912000","ADDRESS":"北京市","CHARGEMARK":"已收费","IDENTITYCARD":"110101198001012430","WORKUNIT":"AA","PAYMONEYDATE":"2019:01:01","APPLYTIME":"20190101120010","EXECUTESECTIONNO":"放射科","EXECUTESECTION":"放射科","HEALTHTYPE":"自费","CHECKSERIALNUM":"100888101281","CHECKITEMID":"HISDX001","FLAG":"NW"}]
2019-07-11 18:31:43 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 18:31:43 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:31:43 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:31:43 - <==      Total: 1
2019-07-11 18:31:43 - search Exist orders:1
2019-07-11 18:31:43 - updating orders:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, BIRTHDATE=1980-01-01, SEX=女, LODGEDOCTOR=李医生, LODGEDOCTORCODE=, CHECKITEM=胸部正侧位, LODGESECTION=外科一, CHECKPART=, CLINICALDIAGNOSIS=外伤, CLINICALSIGN=, CHECKAIM=输助诊断, BEDNO=, MONEY=209.01, TELEPHONE=11911912000, ADDRESS=北京市, CHARGEMARK=已收费, IDENTITYCARD=110101198001012430, WORKUNIT=AA, PAYMONEYDATE=2019:01:01, APPLYTIME=20190101120010, EXECUTESECTIONNO=放射科, EXECUTESECTION=放射科, HEALTHTYPE=自费, CHECKSERIALNUM=100888101281, CHECKITEMID=HISDX001, FLAG=NW}
2019-07-11 18:31:43 - ==>  Preparing: update hisorder.his_order set applyCode=?,patientCode=?,visitNO=?,patientId=?,cardNO=?, patientName=?,brithday=?,sex=?,phone=?,address=?, authorName=?,authorCode=?,checkMethod=?,checkMethodCode=?, applyOffice=?,checkPart=?,disease=?,history=?, note=?,bedNO=?,charge=?, identityNO=?,organization=?,verifierTime=?,authorTime=?, executeOfficeCode=?, executeOffice=?, yibao=?,orderCode=? where applyCode=? and validFlag=0 
2019-07-11 18:31:43 - ==> Parameters: HISEXAM003(String), 1(String), 2(String), DIAGID001(String), HISID001(String), 测试患者(String), 1980-01-01(String), 女(String), 11911912000(String), 北京市(String), 李医生(String), (String), 胸部正侧位(String), HISDX001(String), 外科一(String), (String), 外伤(String), (String), 输助诊断(String), (String), 209.01(String), 110101198001012430(String), AA(String), 2019:01:01(String), 20190101120010(String), 放射科(String), 放射科(String), 自费(String), 100888101281(String), HISEXAM003(String)
2019-07-11 18:31:43 - <==    Updates: 1
2019-07-11 18:31:43 - updated
2019-07-11 18:31:46 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者","SCHEDULED_DATE_START":"2019-07-09 15:20:00","SCHEDULED_DATE_END":"2019-07-09 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 18:31:46 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 18:31:46 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:31:46 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:31:46 - <==      Total: 1
2019-07-11 18:31:46 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 18:31:46 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname,m.ModalityLocation FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 18:31:46 - ==> Parameters: XR001(String), 148(String)
2019-07-11 18:31:46 - <==      Total: 1
2019-07-11 18:31:46 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者, SCHEDULED_DATE_START=2019-07-09 15:20:00, SCHEDULED_DATE_END=2019-07-09 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ModalityLocation=CT, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 18:31:46 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0267" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-09"/>
	
</AEXMLMessage>


]
2019-07-11 18:31:46 - Outbound Message
---------------------------
ID: 8
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0267&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-09&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:31:46 - Inbound Message
----------------------------
ID: 8
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[445], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1006</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>16</examID><orderID>10</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:32:32 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者1","SCHEDULED_DATE_START":"2019-07-11 15:20:00","SCHEDULED_DATE_END":"2019-07-11 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 18:32:32 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者1, SCHEDULED_DATE_START=2019-07-11 15:20:00, SCHEDULED_DATE_END=2019-07-11 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 18:32:32 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:32:32 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:32:32 - <==      Total: 1
2019-07-11 18:32:32 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者1, SCHEDULED_DATE_START=2019-07-11 15:20:00, SCHEDULED_DATE_END=2019-07-11 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 18:32:32 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname,m.ModalityLocation FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 18:32:32 - ==> Parameters: XR001(String), 148(String)
2019-07-11 18:32:32 - <==      Total: 1
2019-07-11 18:32:32 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者1, SCHEDULED_DATE_START=2019-07-11 15:20:00, SCHEDULED_DATE_END=2019-07-11 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ModalityLocation=CT, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 18:32:32 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0267" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-11"/>
	
</AEXMLMessage>


]
2019-07-11 18:32:32 - Outbound Message
---------------------------
ID: 9
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0267&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-11&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:32:32 - Inbound Message
----------------------------
ID: 9
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[445], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1006</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>16</examID><orderID>10</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:33:12 - received new order:[{"HISEXAMNO":"HISEXAM003","PATIENTTYPE":"1","VISITTIMES":"2","DIAGNOSEID":"DIAGID001","HISID":"HISID001","NAME":"测试患者1","SCHEDULED_DATE_START":"2019-07-11 15:20:00","SCHEDULED_DATE_END":"2019-07-11 16:20:00","SCHEDULED_MODALITY":"148","SCHEDULE_OPERATOR":"","CHECKITEM":"","CHECKSERIALNUM":"","CHECKITEMID":"XR001","FLAG":"NW"}]
2019-07-11 18:33:12 - convert to Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者1, SCHEDULED_DATE_START=2019-07-11 15:20:00, SCHEDULED_DATE_END=2019-07-11 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW}
2019-07-11 18:33:12 - ==>  Preparing: select * from hisorder.his_order where applyCode=? and validFlag=0 
2019-07-11 18:33:12 - ==> Parameters: HISEXAM003(String)
2019-07-11 18:33:12 - <==      Total: 1
2019-07-11 18:33:12 - merged Map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者1, SCHEDULED_DATE_START=2019-07-11 15:20:00, SCHEDULED_DATE_END=2019-07-11 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003}
2019-07-11 18:33:12 - ==>  Preparing: SELECT m.ModalityID,psi.ProcedureStepID,psi.ProcedureStepName,ps.ProcedureName,m.ModalityName,md.deptname,m.ModalityLocation FROM gecris.ProcedureStepInfo psi,gecris.ProcedureInfo ps,gecris.ModalityInfo m,gecris.modalitydept md WHERE psi.ProcedureID=ps.ProcedureID AND m.is_valid=true AND ps.ProcedureIDType=m.ModalityID AND m.deptid=md.deptid AND psi.Status='active' AND psi.procedurestep_code=? AND m.ModalityID=? limit 1 
2019-07-11 18:33:12 - ==> Parameters: XR001(String), 148(String)
2019-07-11 18:33:12 - <==      Total: 1
2019-07-11 18:33:12 - filled procedure map:{HISEXAMNO=HISEXAM003, PATIENTTYPE=1, VISITTIMES=2, DIAGNOSEID=DIAGID001, HISID=HISID001, NAME=测试患者1, SCHEDULED_DATE_START=2019-07-11 15:20:00, SCHEDULED_DATE_END=2019-07-11 16:20:00, SCHEDULED_MODALITY=148, SCHEDULE_OPERATOR=, CHECKITEM=, CHECKSERIALNUM=, CHECKITEMID=XR001, FLAG=NW, createTime=10:35:21, sex=女, phone=11911912000, validFlag=0, orderCode=100888101281, visitNO=2, data_source=MQ, executeOfficeCode=放射科, bedNO=, SCHEDULE=0, disease=外伤, yiBao=自费, id=6, patientId=DIAGID001, organization=AA, patientName=测试患者, applyOffice=外科一, checkMethodCode=HISDX001, brithday=1980-01-01, verifierTime=2019:01:01, createDate=2019-07-11, note=输助诊断, checkPart=, patientCode=1, executeOffice=放射科, checkMethod=胸部正侧位, identityNO=110101198001012430, authorCode=, history=, cardNO=HISID001, charge=209.01, address=北京市, authorName=李医生, readFlag=0, authorTime=20190101120010, applyCode=HISEXAM003, ModalityID=148, ModalityName=CT1, ModalityLocation=CT, ProcedureName=头部CT, deptname=CT室, ProcedureStepName=头部急诊平扫, ProcedureStepID=150}
2019-07-11 18:33:12 - order AEXAML=[<AEXMLMessage xmlns="http://com/ge/med/ehrae/ae">
	<column name="e:WAIT,0296" value="HISEXAM003"/>
	<column name="e:WAIT,0046" value="门诊"/><!-- 1门诊，2住院 -->
	<column name="e:WAIT,0016" value="2"/>
	<column name="p:WAIT,0133" value="HISID001"/>
	<column name="p:0010,0010" value="测试患者"/>
	<column name="p:0010,0040" value="女"/>
	<column name="p:0010,0030" value="1980-01-01"/>
	<column name="e:WAIT,0518" value="李医生"/>
	<column name="e:WAIT,0287" value=""/>
	<column name="e:WAIT,0513" value="胸部正侧位"/>
	<column name="e:WAIT,0043" value="外科一"/>
	<column name="e:WAIT,0297" value=""/>
	<column name="e:WAIT,0039" value="外伤"/>
	<column name="e:WAIT,0092" value=""/>
	<column name="e:WAIT,0298" value="输助诊断"/>
	<column name="e:WAIT,0054" value=""/>
	<column name="e:WAIT,0103" value="209.01"/>
	<column name="p:0010,2154" value="11911912000"/>
	<column name="p:0010,1040" value="北京市"/>
	<column name="e:WAIT,0332" value=""/>
	<column name="p:WAIT,0116" value="110101198001012430"/>
	<column name="p:0010,2108" value="AA"/>
	<column name="e:WAIT,0512" value="2019:01:01"/>
	<column name="e:WAIT,0096" value="20190101120010"/>
	<column name="e:WAIT,0510" value="放射科"/>
	<column name="e:WAIT,0579" value="放射科"/>
	<column name="p:WAIT,0118" value="自费"/>
	<column name="e:WAIT,0511" value="HISDX001"/>
	<column name="p:WAIT,0119" value="普通"/>
	
	
	<column name="p:WAIT,0351" value="DIAGID001"/>
	<column name="e:WAIT,0352" value="100888101281"/>
	<column name="e:WAIT,0267" value="100888101281"/>
	<column name="o:WAIT,0266" value="HISEXAM003"/>
	<column name="e:WAIT,0018" value="148"/>
	<column name="e:WAIT,0072" value="150"/>
	<column name="e:0040,0003" value="15:20--16:20"/>
	<column name="e:0040,0002" value="2019-07-11"/>
	
</AEXMLMessage>


]
2019-07-11 18:33:12 - Outbound Message
---------------------------
ID: 10
Address: http://192.168.1.25:9000/services/RegistInfoService
Encoding: UTF-8
Content-Type: application/soap+xml; action="http://med.ge.com/rispacs/RegistInfoService/HISOrderSchedule"
Headers: {Accept=[*/*], Accept-Encoding=[gzip;q=1.0, identity; q=0.5, *;q=0]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:PatientAndOrderScheduleXml xmlns:ns2="http://med.ge.com/rispacs/">&lt;AEXMLMessage xmlns=&quot;http://com/ge/med/ehrae/ae&quot;&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0296&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0046&quot; value=&quot;门诊&quot;/&gt;&lt;!-- 1门诊，2住院 --&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0016&quot; value=&quot;2&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0133&quot; value=&quot;HISID001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0010&quot; value=&quot;测试患者&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0040&quot; value=&quot;女&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,0030&quot; value=&quot;1980-01-01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0518&quot; value=&quot;李医生&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0287&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0513&quot; value=&quot;胸部正侧位&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0043&quot; value=&quot;外科一&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0297&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0039&quot; value=&quot;外伤&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0092&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0298&quot; value=&quot;输助诊断&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0054&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0103&quot; value=&quot;209.01&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2154&quot; value=&quot;11911912000&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,1040&quot; value=&quot;北京市&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0332&quot; value=&quot;&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0116&quot; value=&quot;110101198001012430&quot;/&gt;&#xD;
	&lt;column name=&quot;p:0010,2108&quot; value=&quot;AA&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0512&quot; value=&quot;2019:01:01&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0096&quot; value=&quot;20190101120010&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0510&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0579&quot; value=&quot;放射科&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0118&quot; value=&quot;自费&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0511&quot; value=&quot;HISDX001&quot;/&gt;&#xD;
	&lt;column name=&quot;p:WAIT,0119&quot; value=&quot;普通&quot;/&gt;&#xD;
	&#xD;
	&#xD;
	&lt;column name=&quot;p:WAIT,0351&quot; value=&quot;DIAGID001&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0352&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0267&quot; value=&quot;100888101281&quot;/&gt;&#xD;
	&lt;column name=&quot;o:WAIT,0266&quot; value=&quot;HISEXAM003&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0018&quot; value=&quot;148&quot;/&gt;&#xD;
	&lt;column name=&quot;e:WAIT,0072&quot; value=&quot;150&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0003&quot; value=&quot;15:20--16:20&quot;/&gt;&#xD;
	&lt;column name=&quot;e:0040,0002&quot; value=&quot;2019-07-11&quot;/&gt;&#xD;
	&#xD;
&lt;/AEXMLMessage&gt;&#xD;
&#xD;
&#xD;
</ns2:PatientAndOrderScheduleXml><ns2:ExamStatus xmlns:ns2="http://med.ge.com/rispacs/">1</ns2:ExamStatus><ns2:AuditCommon xmlns:ns2="http://med.ge.com/rispacs/"><userID>1617</userID><username>itpschina</username><appNameId>10</appNameId><hostname>BROKER</hostname><IP>192.168.1.25</IP></ns2:AuditCommon></soap:Body></soap:Envelope>
--------------------------------------
2019-07-11 18:33:12 - Inbound Message
----------------------------
ID: 10
Response-Code: 200
Encoding: UTF-8
Content-Type: application/soap+xml; charset=UTF-8
Headers: {Content-Length=[445], content-type=[application/soap+xml; charset=UTF-8], Server=[Jetty(7.5.4.v20111024)]}
Payload: <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope"><soap:Body><ns2:HISOrderScheduleResponse xmlns:ns2="http://med.ge.com/rispacs/"><isTrue>false</isTrue><accessionID>ME190711CT1007</accessionID><systemTime></systemTime><deptid></deptid><patientID>107122</patientID><patientIntraID>107122</patientIntraID><examID>17</examID><orderID>11</orderID><hospitalID></hospitalID></ns2:HISOrderScheduleResponse></soap:Body></soap:Envelope>
--------------------------------------
